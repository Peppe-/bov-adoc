# SOME DESCRIPTIVE TITLE.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
msgid ""
msgstr ""
"Project-Id-Version: \n"
"Report-Msgid-Bugs-To: http://bugs.kde.org\n"
"POT-Creation-Date: 2014-11-05 04:14+0000\n"
"PO-Revision-Date: 2014-11-08 01:03+0900\n"
"Last-Translator: \n"
"Language-Team: LANGUAGE <kde-i18n-doc@kde.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Language: zh_CN\n"
"X-Generator: Poedit 1.6.5\n"

#. Tag: title
#: chapter-portal.xml:11
#, no-c-format
msgid "Portal Integration"
msgstr "与 Portal 集成"

#. Tag: primary
#: chapter-portal.xml:13
#, no-c-format
msgid "portal integration"
msgstr ""

#. Tag: title
#: chapter-portal.xml:16
#, no-c-format
msgid "Overview"
msgstr "概述"

#. Tag: para
#: chapter-portal.xml:18
#, no-c-format
msgid ""
"Vaadin supports running UIs as portlets in a portal, as defined in the "
"JSR-286 (Java Portlet API 2.0) standard. A portlet UI is defined just as a "
"regular UI, but deploying to a portal is somewhat different from deployment "
"of regular web applications, requiring special portlet descriptors, etc. "
"Creating the portlet project with the Vaadin Plugin for Eclipse or a Maven "
"archetype automatically generates the necessary descriptors."
msgstr ""
"Vaadin 支持在 portal 内以 Portlet 的形式运行 UI, portal 标准规约请参见 "
"JSR-286 (Java Portlet API 2.0). Portlet UI 的定义与通常的 UI 一样, 但部署到  "
"portal 中的方式与通常的 Web 应用程序部署方式略有不同, 需要特别的 portlet 描述"
"文件, 等等. 当使用 Vaadin Plugin for Eclipse 或 Maven archetype 来创建 "
"Portlet 工程时, 会自动生成所需要的描述文件."

#. Tag: para
#: chapter-portal.xml:27
#, no-c-format
msgid ""
"In addition to providing user interface through the Vaadin UI, portlets can "
"integrate with the portal to switch between portlet modes and process "
"special portal requests, such as actions and events."
msgstr ""
"除了通过 Vaadin UI 来实现用户界面外, portlet 还可以集成到 portal 内, 可以在不"
"同的 portlet 模式中切换, 可以处理特定的 portal 请求, 比如动作和事件."

#. Tag: para
#: chapter-portal.xml:33
#, no-c-format
msgid ""
"While providing generic support for all portals implementing the standard, "
"Vaadin especially supports the Liferay portal and the needed portal-specific "
"configuration in this chapter is given for Liferay. Vaadin also has a "
"special Liferay IPC add-on to enable communication between portlets."
msgstr ""
"除了对所有实现了 portal 标准的 portal 提供一般支持之外, Vaadin 还对 Liferay "
"portal 提供了特殊的支持, 本章中的 portal 配置都是针对 Liferay 的. Vaadin 还有"
"特殊的 Liferay IPC add-on, 可以实现在 portlet 之间的通信."

#. Tag: title
#: chapter-portal.xml:42
#, no-c-format
msgid "Creating a Generic Portlet in Eclipse"
msgstr "在 Eclipse 中创建一个常规的 Portlet 工程"

#. Tag: para
#: chapter-portal.xml:44
#, no-c-format
msgid ""
"Here we describe the creation of a generic portlet project in Eclipse. You "
"can use the Maven archetypes also in other IDEs or without an IDE."
msgstr ""
"本节中我们介绍如何在 Eclipse 内创建一个常规的 Portlet 工程. 在其他 IDE 中, 或"
"者在无 IDE 的情况下, 你也可以使用 Maven archetype."

#. Tag: para
#: chapter-portal.xml:49
#, no-c-format
msgid ""
"For Liferay portlet development, you may instead want to use the Maven "
"archetype or Liferay IDE to create the project, as described in <xref "
"linkend=\"portal.liferay\"/>."
msgstr ""
"开发 Liferay 的 portlet 时, 你可能会希望使用 Maven archetype 或 Liferay IDE "
"来创建工程, 详情请参见 <xref linkend=\"portal.liferay\"/>."

#. Tag: title
#: chapter-portal.xml:56
#, no-c-format
msgid "Creating a Project with Vaadin Plugin"
msgstr "使用 Vaadin Plugin 来创建一个工程"

#. Tag: para
#: chapter-portal.xml:58
#, no-c-format
msgid ""
"The Vaadin Plugin for Eclipse has a wizard for easy creation of generic "
"portlet projects. It creates a UI class and all the necessary descriptor "
"files."
msgstr ""
"Vaadin Plugin for Eclipse 中有一个向导, 可以很便利地创建常规的 portlet 工程. "
"向导会创建一个 UI 类, 以及所有必须的描述文件."

#. Tag: para
#: chapter-portal.xml:64
#, no-c-format
msgid ""
"Creating a portlet project is almost identical to the creation of a regular "
"Vaadin servlet application project. For a full treatment of the New Project "
"Wizard and the possible options, please see <xref linkend=\"getting-started."
"first-project.creation\"/>."
msgstr ""
"创建 portlet 工程与创建通常的 Vaadin Servlet 应用程序工程几乎一样. 关于 New "
"Project 向导中的详细操作以及各种选项, 请参见 <xref linkend=\"getting-started."
"first-project.creation\"/>."

#. Tag: listitem
#: chapter-portal.xml:72
#, no-c-format
msgid ""
"Start creating a new project by selecting from the menu "
"<menuchoice><guimenu>File</guimenu><guisubmenu>New</"
"guisubmenu><guimenuitem>Project...</guimenuitem></menuchoice>"
msgstr ""
"首先从菜单中选择 <menuchoice><guimenu>File</guimenu><guisubmenu>New</"
"guisubmenu><guimenuitem>Project...</guimenuitem></menuchoice>, 开始创建新工"
"程."

#. Tag: listitem
#: chapter-portal.xml:79
#, no-c-format
msgid ""
"In the <guilabel>New Project</guilabel> window that opens, select "
"<menuchoice><guimenu>Web</guimenu><guimenuitem>Vaadin 7 Project</"
"guimenuitem></menuchoice> and click <guibutton>Next</guibutton>."
msgstr ""
"在 <guilabel>New Project</guilabel> 窗口中, 选择 <menuchoice><guimenu>Web</"
"guimenu><guimenuitem>Vaadin 7 Project</guimenuitem></menuchoice> 然后点击 "
"<guibutton>Next</guibutton> 按钮."

#. Tag: para
#: chapter-portal.xml:88
#, no-c-format
msgid ""
"In the <guilabel>Vaadin Project</guilabel> step, you need to set the basic "
"web project settings. You need to give at least the project name, the "
"runtime, select <guilabel>Generic Portlet</guilabel> for the "
"<guilabel>Deployment configuration</guilabel>; the default values should be "
"good for the other settings."
msgstr ""
"在 <guilabel>Vaadin Project</guilabel> 窗口中, 你需要进行基本的 Web 工程设"
"定. 你至少需要输入工程名称, 运行时, 在 <guilabel>Deployment configuration</"
"guilabel> 中选择 <guilabel>Generic Portlet</guilabel>; 其他设置项目可以使用默"
"认值."

#. Tag: para
#: chapter-portal.xml:108
#, no-c-format
msgid ""
"You can click <guibutton>Finish</guibutton> here to use the defaults for the "
"rest of the settings, or click <guibutton>Next</guibutton>."
msgstr ""
"在这一步中, 可以点击 <guibutton>Finish</guibutton> 按钮, 结束向导, 其他设置项"
"目会全部使用默认值, 也可以点击 <guibutton>Next</guibutton> 按钮, 继续进行其他"
"设置."

#. Tag: para
#: chapter-portal.xml:115
#, no-c-format
msgid ""
"The settings in the <guilabel>Web Module</guilabel> step define the basic "
"servlet-related settings and the structure of the web application project. "
"All the settings are pre-filled, and you should normally accept them as they "
"are and click <guibutton>Next</guibutton>."
msgstr ""
"在 <guilabel>Web Module</guilabel> 窗口, 可以设置基本的 servlet 设定项, 以及 "
"Web 应用程序工程的结构. 这里所有的设定项都有默认值, 通常可以直接使用这些默认"
"值, 然后点击 <guibutton>Next</guibutton> 按钮."

#. Tag: para
#: chapter-portal.xml:126
#, no-c-format
msgid ""
"The <guilabel>Vaadin project</guilabel> step page has various Vaadin-"
"specific application settings. These are largely the same as for regular "
"applications. Setting them here is easiest - later some of the changes "
"require changes in several different files. The <guilabel>Create portlet "
"template</guilabel> option should be automatically selected. You can give "
"another portlet title of you want. You can change most of the settings "
"afterward."
msgstr ""
"在 <guilabel>Vaadin project</guilabel> 窗口中, 可以设置一些 Vaadin 相关的应用"
"程序设定项. 这些设定项与通常的 Vaadin 应用程序很类似. 在这里设置它们是最简单"
"的 - 如果将来修改的话, 需要修改很多不同的文件. <guilabel>Create portlet "
"template</guilabel> 选项应该会自动选中. 你可以输入一个你希望的 portlet "
"title. 其他项目都可以将来再变更."

#. Tag: guilabel
#: chapter-portal.xml:149
#, no-c-format
msgid "Create project template"
msgstr ""

#. Tag: para
#: chapter-portal.xml:151
#, no-c-format
msgid "Creates a UI class and all the needed portlet deployment descriptors."
msgstr "创建 UI 类, 以及所有需要的 portlet 部署描述文件."

#. Tag: guilabel
#: chapter-portal.xml:158
#, no-c-format
msgid "Application name"
msgstr ""

#. Tag: para
#: chapter-portal.xml:160
#, no-c-format
msgid ""
"The application name is used in the title of the browser window, which is "
"usually invisible in portlets, and as an identifier, either as is or with a "
"suffix, in various deployment descriptors."
msgstr ""
"应用程序名称用做浏览器窗口的标题, 但在 portlet 中通常是不可见的, 在各种部署描"
"述文件中, 应用程序名称也用作标识符, 也可能用来作为某种前缀, 或者带有别的某种"
"前缀."

#. Tag: guilabel
#: chapter-portal.xml:169
#, no-c-format
msgid "Base package name"
msgstr ""

#. Tag: para
#: chapter-portal.xml:171
#, no-c-format
msgid "Java package for the UI class."
msgstr "UI 所属的 Java 包名称."

#. Tag: guilabel
#: chapter-portal.xml:177
#, no-c-format
msgid "Application class name"
msgstr ""

#. Tag: para
#: chapter-portal.xml:179
#, no-c-format
msgid "Name of the UI class. The default is derived from the project name."
msgstr "UI 类名称. 默认的类名会根据工程名自动得出."

#. Tag: guilabel
#: chapter-portal.xml:186
#, no-c-format
msgid "Theme name"
msgstr ""

#. Tag: para
#: chapter-portal.xml:188
#, no-c-format
msgid "Name of the custom portlet theme to use."
msgstr "所使用的自定义 portlet theme 的名称."

#. Tag: guilabel
#: chapter-portal.xml:194
#, no-c-format
msgid "Portlet version"
msgstr ""

#. Tag: para
#: chapter-portal.xml:196 chapter-portal.xml:217
#, no-c-format
msgid "Same as in the project settings."
msgstr "与 Vaadin Project 窗口中的设定一致."

#. Tag: guilabel
#: chapter-portal.xml:202
#, no-c-format
msgid "Portlet title"
msgstr ""

#. Tag: para
#: chapter-portal.xml:204
#, no-c-format
msgid ""
"The portlet title, defined in <filename>portlet.xml</filename>, can be used "
"as the display name of the portlet (at least in Liferay). The default value "
"is the project name. The title is also used as a short description in "
"<filename>liferay-plugin-package.properties</filename>."
msgstr ""
"portlet 标题, 定义在 <filename>portlet.xml</filename> 文件中, 可被用作 "
"portlet 的表示名称(至少在 Liferay 中如此). 标题的默认值是工程名称. 标题还用"
"作 <filename>liferay-plugin-package.properties</filename> 文件中的简短描述."

#. Tag: guilabel
#: chapter-portal.xml:215
#, no-c-format
msgid "Vaadin version"
msgstr ""

#. Tag: para
#: chapter-portal.xml:224
#, no-c-format
msgid "Finally, click <guibutton>Finish</guibutton> to create the project."
msgstr "最后, 点击 <guibutton>Finish</guibutton> 按钮, 创建工程."

#. Tag: para
#: chapter-portal.xml:230
#, no-c-format
msgid ""
"Eclipse may ask you to switch to J2EE perspective. A Dynamic Web Project "
"uses an external web server and the J2EE perspective provides tools to "
"control the server and manage application deployment. Click <guibutton>Yes</"
"guibutton>."
msgstr ""
"Eclipse 可能会询问你是否要切换到 J2EE perspective. 动态 Web 工程会使用外部 "
"Web 服务器, J2EE perspective 提供了很多工具用来控制服务器, 还会管理应用程序的"
"部署. 因此建议点击 <guibutton>Yes</guibutton> 按钮."

#. Tag: title
#: chapter-portal.xml:242
#, no-c-format
msgid "Developing Vaadin Portlets for Liferay"
msgstr "为 Liferay 开发 Vaadin Portlet"

#. Tag: para
#: chapter-portal.xml:244
#, no-c-format
msgid ""
"A Vaadin portlet requires resources such as the server-side Vaadin "
"libraries, a theme, and a widget set. You have two basic ways to deploy "
"these: either globally in Liferay, so that the resources are shared between "
"all Vaadin portlets, or as self-contained WARs, where each portlet carries "
"their own resources."
msgstr ""
"Vaadin portlet 需要使用资源, 比如服务器端 Vaadin 库, theme, 以及 widget set. "
"有两种基本方法来发布这些资源: 可以发布到 Liferay 的全局环境中, 这种情况下资源"
"由所有的 Vaadin portlet 共用, 或者也可以使用自包含的 WAR 文件方式, 这种情况下"
"每个 portlet 都带有自己独自的资源."

#. Tag: para
#: chapter-portal.xml:252
#, no-c-format
msgid ""
"The self-contained way is easier and more flexible to start with, as the "
"different portlets may have different versions of the resources. Currently, "
"the latest Maven archetypes support the self-contained portlets, while with "
"portlets created with the Vaadin Plugin for Eclipse only support globally "
"deployed resources."
msgstr ""
"自包含的 WAR 文件方式比较简单, 而且对于新手来说比较灵活, 因为不同的 portlet "
"可能会使用不同版本的资源. 目前, 最新的 Maven archetype 支持自包含的 portlet, "
"而通过 Vaadin Plugin for Eclipse 创建的 portlet 只支持全局发布的方式."

#. Tag: para
#: chapter-portal.xml:260
#, no-c-format
msgid ""
"Using shared resources is more efficient when you have multiple Vaadin "
"portlets on the same page, as they can share the common resources. However, "
"they must use exactly same Vaadin version. This is recommended for "
"production environments, where you can even serve the theme and widget set "
"from a front-end server. You can install the shared resources as described "
"in <xref linkend=\"portal.liferay.install\"/>."
msgstr ""
"如果在同一个页面上存在多个 Vaadin portlet, 那么使用共用资源的方式效率会更高, "
"因为它们可以共用相同的资源. 但是, 它们必须使用完全相同的 Vaadin 版本. 对于生"
"产环境, 推荐使用这种方式, 这种环境下你甚至可以使用一个前端服务器(front-end "
"server)来对客户端提供 theme 和 widget set. 关于共享资源的安装方式, 详情请参"
"见 <xref linkend=\"portal.liferay.install\"/>."

#. Tag: para
#: chapter-portal.xml:269
#, no-c-format
msgid ""
"At the time of writing, the latest Liferay release 6.2 is bundled with a "
"version of Vaadin release 6. If you want to use Vaadin 7 portlets with "
"shared resources, you first need to remove the old ones as described in "
"<xref linkend=\"portal.liferay.remove\"/>."
msgstr ""
"在本书编写时, 最新的 Liferay 6.2 中捆绑了 Vaadin 6 版. 如果你希望以共用资源的"
"方式来使用 Vaadin 7 版本的 portlet, 那么你首先需要删除旧版本的 Vaadin, 详情请"
"参见 <xref linkend=\"portal.liferay.remove\"/>."

#. Tag: title
#: chapter-portal.xml:277
#, no-c-format
msgid "Defining Liferay Profile for Maven"
msgstr "为 Maven 定义 Liferay Profile"

#. Tag: para
#: chapter-portal.xml:279
#, no-c-format
msgid ""
"When creating a Liferay portlet project with a Maven archetype or the "
"Liferay IDE, you need to define a Liferay profile. With the Liferay IDE, you "
"can create it when you create the project, as described in <xref linkend="
"\"portal.liferay.ide\"/>, but for creating a project from the Maven "
"archetype, you need to define in manually."
msgstr ""
"当使用 Maven archetype 或使用 Liferay IDE 来创建 Liferay portlet 工程时, 你需"
"要定义 Liferay profile. 使用 Liferay IDE 时, 你可以在创建工程时创建 profile, "
"详情请参见 <xref linkend=\"portal.liferay.ide\"/>, 但通过 Maven archetype 创"
"建工程时, 你需要手工定义 profile."

#. Tag: title
#: chapter-portal.xml:288
#, no-c-format
msgid "Defining Profile in <filename>settings.xml</filename>"
msgstr "在 <filename>settings.xml</filename> 中定义 Profile"

#. Tag: para
#: chapter-portal.xml:290
#, no-c-format
msgid ""
"Liferay profile can be defined either in the user or in the global "
"<filename>settings.xml</filename> file for Maven. The global settings file "
"is located in <filename>${MAVEN_HOME}/conf/settings.xml</filename> and the "
"user settings file in <filename>${USER_HOME}/.m2/settings.xml</filename>. To "
"create a user settings file, copy at least the relevant headers and root "
"element from the global settings file."
msgstr ""
"可以在用户的或全局的 Maven <filename>settings.xml</filename> 文件中定义 "
"Liferay profile. 全局设定文件的路径是 <filename>${MAVEN_HOME}/conf/settings."
"xml</filename>, 用户设定文件是 <filename>${USER_HOME}/.m2/settings.xml</"
"filename>. 要创建用户设定文件, 至少需要从全局设定文件中复制相关的文件头和根元"
"素."

#. Tag: programlisting
#: chapter-portal.xml:301
#, no-c-format
msgid ""
"<?pocket-size 70% ?>...\n"
"&lt;profile&gt;\n"
"  &lt;id&gt;<emphasis role=\"bold\">liferay</emphasis>&lt;/id&gt;\n"
"  &lt;properties&gt;\n"
"    &lt;liferayinstall&gt;<emphasis role=\"bold\">/opt/liferay-portal-6.2-ce-"
"ga2</emphasis>\n"
"    &lt;/liferayinstall&gt;\n"
"    &lt;plugin.type&gt;portlet&lt;/plugin.type&gt;\n"
"    &lt;liferay.version&gt;<emphasis role=\"bold\">6.2.1</emphasis>&lt;/"
"liferay.version&gt;\n"
"    &lt;liferay.maven.plugin.version&gt;<emphasis role=\"bold\">6.2.1</"
"emphasis>\n"
"    &lt;/liferay.maven.plugin.version&gt;\n"
"    &lt;liferay.auto.deploy.dir&gt;${liferayinstall}/<emphasis role=\"bold"
"\">deploy</emphasis>\n"
"    &lt;/liferay.auto.deploy.dir&gt;\n"
"\n"
"    &lt;!-- Application server version - here for Tomcat --&gt;\n"
"    &lt;liferay.tomcat.version&gt;<emphasis role=\"bold\">7.0.42</"
"emphasis>&lt;/liferay.tomcat.version&gt;\n"
"    &lt;liferay.tomcat.dir&gt;\n"
"        ${liferayinstall}/tomcat-${liferay.tomcat.version}\n"
"    &lt;/liferay.tomcat.dir&gt;\n"
"\n"
"    &lt;liferay.app.server.deploy.dir&gt;<emphasis role=\"bold\">${liferay."
"tomcat.dir}/webapps</emphasis>\n"
"    &lt;/liferay.app.server.deploy.dir&gt;\n"
"    &lt;liferay.app.server.lib.global.dir&gt;<emphasis role=\"bold\">"
"${liferay.tomcat.dir}/lib/ext</emphasis>\n"
"    &lt;/liferay.app.server.lib.global.dir&gt;\n"
"    &lt;liferay.app.server.portal.dir&gt;<emphasis role=\"bold\">${liferay."
"tomcat.dir}/webapps/ROOT</emphasis>\n"
"    &lt;/liferay.app.server.portal.dir&gt;\n"
"  &lt;/properties&gt;     \n"
"&lt;/profile&gt;"
msgstr ""

#. Tag: para
#: chapter-portal.xml:303
#, no-c-format
msgid "The parameters are as follows:"
msgstr "参数如下:"

#. Tag: varname
#: chapter-portal.xml:309
#, no-c-format
msgid "liferayinstall"
msgstr ""

#. Tag: listitem
#: chapter-portal.xml:310
#, no-c-format
msgid "Full (absolute) path to the Liferay installation directory."
msgstr "Liferay 安装目录的全路径(绝对路径)."

#. Tag: varname
#: chapter-portal.xml:313
#, no-c-format
msgid "liferay.version"
msgstr ""

#. Tag: listitem
#: chapter-portal.xml:315
#, no-c-format
msgid ""
"Liferay version by the Maven version numbering scheme. The first two (major "
"and minor) numbers are same as in the installation package. The third "
"(maintenance) number starts from 0 with first GA (general availability) "
"release."
msgstr ""
"Liferay 版本, 使用 Maven 的版本号格式. 前两个数字(主版本号和次版本号)与安装包"
"一致. 第三个数字(维护版本)从第一个 GA (general availability) 发布版开始从 0 "
"计数."

#. Tag: varname
#: chapter-portal.xml:321
#, no-c-format
msgid "liferay.maven.plugin.version"
msgstr ""

#. Tag: listitem
#: chapter-portal.xml:323
#, no-c-format
msgid "This is usually the same as the Liferay version."
msgstr "通常设定为与 Liferay 版本号一致."

#. Tag: varname
#: chapter-portal.xml:326
#, no-c-format
msgid "liferay.auto.deploy.dir"
msgstr ""

#. Tag: listitem
#: chapter-portal.xml:328
#, no-c-format
msgid ""
"The Liferay auto-deployment directory. It is by default <filename>deploy</"
"filename> under the Liferay installation path."
msgstr ""
"Liferay 自动部署目录. 默认是 Liferay 安装路径之下的 <filename>deploy</"
"filename> 目录."

#. Tag: term
#: chapter-portal.xml:333
#, no-c-format
msgid "<varname>liferay.tomcat.version</varname> (optional)"
msgstr ""

#. Tag: listitem
#: chapter-portal.xml:334
#, no-c-format
msgid "If using Tomcat, its version number."
msgstr "如果使用 Tomcat, 这个参数指定 Tomcat 的版本号."

#. Tag: varname
#: chapter-portal.xml:337
#, no-c-format
msgid "liferay.tomcat.dir"
msgstr ""

#. Tag: listitem
#: chapter-portal.xml:339
#, no-c-format
msgid ""
"Full (absolute) path to Tomcat installation directory. For Tomcat bundled "
"with Liferay, this is under the Liferay installation directory."
msgstr ""
"Tomcat 安装目录的全路径(绝对路径). 对于 Liferay 中捆绑的 Tomcat, 它的安装目录"
"在 Liferay 安装目录之下."

#. Tag: varname
#: chapter-portal.xml:344
#, no-c-format
msgid "liferay.app.server.deploy.dir"
msgstr ""

#. Tag: listitem
#: chapter-portal.xml:346
#, no-c-format
msgid ""
"Directory where portlets are deployed in the application server used for "
"Liferay. This depends on the server - for Tomcat it is the "
"<filename>webapps</filename> directory under the Tomcat installation "
"directory."
msgstr ""
"portlet 在 Liferay 所使用的应用服务器上的发布目录. 这个参数的值取决于服务器类"
"型 - 对于 Tomcat, 这个参数应该设置为 Tomcat 安装目录之下的 "
"<filename>webapps</filename> 目录."

#. Tag: varname
#: chapter-portal.xml:352
#, no-c-format
msgid "liferay.app.server.lib.global.dir"
msgstr ""

#. Tag: listitem
#: chapter-portal.xml:354
#, no-c-format
msgid ""
"Library path where libraries globally accessible in the application server "
"should be installed."
msgstr "在应用服务器中全局可用的库应该被安装的路径."

#. Tag: varname
#: chapter-portal.xml:358
#, no-c-format
msgid "liferay.app.server.portal.dir"
msgstr ""

#. Tag: listitem
#: chapter-portal.xml:360
#, no-c-format
msgid ""
"Deployment directory for static resources served by the application server, "
"under the root path of the server."
msgstr "由应用服务器对外提供的静态资源的发布目录, 位于应用服务器的根路径之下."

#. Tag: para
#: chapter-portal.xml:365
#, no-c-format
msgid ""
"If you modify the settings after the project is created, you need to touch "
"the POM file in the project to have the settings reloaded."
msgstr ""
"如果你在工程创建之后修改了这些设定, 你需要更新一下工程内的 POM 文件, 以便重新"
"装载设定内容."

#. Tag: title
#: chapter-portal.xml:372
#, no-c-format
msgid "Activating the Maven Profile"
msgstr "激活 Maven Profile"

#. Tag: para
#: chapter-portal.xml:374
#, no-c-format
msgid ""
"The Maven 2 Plugin for Eclipse (m2e) must know which Maven profiles you use "
"in a project. This is configured in the <menuchoice><guimenuitem>Maven</"
"guimenuitem></menuchoice> section of the project properties. In the "
"<guilabel>Active Maven Profiles</guilabel> field, enter the profile ID "
"defined in the <filename>settings.xml</filename> file, as illustrated in "
"<xref linkend=\"figure.portal.liferay.profile.properties\"/>."
msgstr ""
"Maven 2 Plugin for Eclipse (m2e) 必须知道你在工程中使用的是哪些 Maven "
"profile. 这个信息配置在工程属性的 <menuchoice><guimenuitem>Maven</"
"guimenuitem></menuchoice> 部分内. 在 <guilabel>Active Maven Profiles</"
"guilabel> 项目中, 输入 <filename>settings.xml</filename> 文件中定义的 "
"profile ID, 参见 <xref linkend=\"figure.portal.liferay.profile.properties\"/"
">."

#. Tag: title
#: chapter-portal.xml:385
#, no-c-format
msgid "Activating Maven Liferay Profile"
msgstr "激活 Maven Liferay Profile"

#. Tag: title
#: chapter-portal.xml:399
#, no-c-format
msgid "Creating a Portlet Project with Maven"
msgstr "使用 Maven 创建 Portlet 工程"

#. Tag: para
#: chapter-portal.xml:401
#, no-c-format
msgid ""
"Creation of Vaadin a Maven project is described in <xref linkend=\"getting-"
"started.maven\"/>. For a Liferay project, you should use the <literal>vaadin-"
"archetype-liferay-portlet</literal>."
msgstr ""
"关于 Vaadin Maven 工程的创建方法, 详情请参见 <xref linkend=\"getting-started."
"maven\"/>. 对于 Liferay 工程, 你应该使用 <literal>vaadin-archetype-liferay-"
"portlet</literal>."

#. Tag: title
#: chapter-portal.xml:408
#, no-c-format
msgid "Archetype Parameters"
msgstr "Archetype 参数"

#. Tag: para
#: chapter-portal.xml:410
#, no-c-format
msgid ""
"The archetype has a number of parameters. If you use Maven Plugin for "
"Eclipse (m2e) to create the project, you get to enter the parameters after "
"selecting the archetype, as shown in <xref linkend=\"figure.portal.liferay."
"project.archetype-parameters\"/>."
msgstr ""
"Archetype 需要指定很多参数. 如果你使用 Maven Plugin for Eclipse (m2e) 来创建"
"工程, 那么你需要在选择 archetype 之后输入相关参数, 参见 <xref linkend="
"\"figure.portal.liferay.project.archetype-parameters\"/>."

#. Tag: para
#: chapter-portal.xml:417
#, no-c-format
msgid ""
"Minimally, you just need to enter the artifact ID. To activate the Maven "
"profile created as described earlier in <xref linkend=\"portal.liferay."
"profile\"/>, you need to specify the profile in the <guilabel>Profiles</"
"guilabel> field under the <guilabel>Advanced</guilabel> section."
msgstr ""
"你至少需要输入 artifact ID. <xref linkend=\"portal.liferay.profile\"/> 介绍"
"了 Maven profile 的创建, 要激活 Maven profile, 你需要在 <guilabel>Advanced</"
"guilabel> 下的 <guilabel>Profiles</guilabel> 项目中指定 profile."

#. Tag: title
#: chapter-portal.xml:426
#, no-c-format
msgid "Liferay Project Archetype Parameters"
msgstr "Liferay 工程的 Archetype 参数"

#. Tag: para
#: chapter-portal.xml:437
#, no-c-format
msgid "The other parameters are the following:"
msgstr "其他参数如下:"

#. Tag: varname
#: chapter-portal.xml:443
#, no-c-format
msgid "vaadinVersion"
msgstr ""

#. Tag: listitem
#: chapter-portal.xml:444
#, no-c-format
msgid "Vaadin release version for the Maven dependency."
msgstr "在 Maven 依赖关系中使用的 Vaadin 发布版本号."

#. Tag: varname
#: chapter-portal.xml:447
#, no-c-format
msgid "uiClassName"
msgstr ""

#. Tag: listitem
#: chapter-portal.xml:448
#, no-c-format
msgid "Class name of the UI class stub to be created."
msgstr "创建 UI 类框架代码时使用的类名."

#. Tag: varname
#: chapter-portal.xml:451
#, no-c-format
msgid "theme"
msgstr ""

#. Tag: listitem
#: chapter-portal.xml:451
#, no-c-format
msgid ""
"Theme to use. You can use either a project theme, which must be compiled "
"before deployment, or use the <literal>liferay</literal> theme."
msgstr ""
"使用的 theme. 你可以使用工程独自的 theme, 但在发布前必须编译 theme, 也可以使"
"用 <literal>liferay</literal> theme."

#. Tag: varname
#: chapter-portal.xml:457
#, no-c-format
msgid "portletTitle"
msgstr ""

#. Tag: listitem
#: chapter-portal.xml:458
#, no-c-format
msgid "Title shown in the portlet title bar."
msgstr "显示在 portlet 标题栏中标题."

#. Tag: varname
#: chapter-portal.xml:461
#, no-c-format
msgid "portletShortTitle"
msgstr ""

#. Tag: listitem
#: chapter-portal.xml:462
#, no-c-format
msgid "Title shown in contexts where a shorter title is preferred."
msgstr "当在需要显示短标题的情况下使用的标题."

#. Tag: varname
#: chapter-portal.xml:465
#, no-c-format
msgid "portletKeywords"
msgstr ""

#. Tag: listitem
#: chapter-portal.xml:466
#, no-c-format
msgid "Keywords for finding the portlet in Liferay."
msgstr "在 Liferay 中查找这个 portlet 时使用的关键字."

#. Tag: varname
#: chapter-portal.xml:469
#, no-c-format
msgid "portletDescription"
msgstr ""

#. Tag: listitem
#: chapter-portal.xml:470
#, no-c-format
msgid "A description of the portlet."
msgstr "关于这个 portlet 的描述信息."

#. Tag: varname
#: chapter-portal.xml:473
#, no-c-format
msgid "portletName"
msgstr ""

#. Tag: listitem
#: chapter-portal.xml:474
#, no-c-format
msgid ""
"Identifier for the portlet, used for identifying it in the configuration "
"files."
msgstr "这个 portlet 的 ID, 用于在配置文件中标识这个 portlet."

#. Tag: varname
#: chapter-portal.xml:477
#, no-c-format
msgid "portletDisplayName"
msgstr ""

#. Tag: listitem
#: chapter-portal.xml:478
#, no-c-format
msgid "Name of the portlet for contexts where it is displayed."
msgstr "portlet 的名称, 用于需要显示 portlet 名称的环境."

#. Tag: title
#: chapter-portal.xml:490
#, no-c-format
msgid "Creating a Portlet Project in Liferay IDE"
msgstr "在 Liferay IDE 中创建 Portlet"

#. Tag: para
#: chapter-portal.xml:492
#, no-c-format
msgid ""
"Liferay IDE, which you install in Eclipse as plugins just like the Vaadin "
"plugin, enables a development environment for Liferay portlets. Liferay IDE "
"allows integrated deployment of portlets to Liferay, just like you would "
"deploy servlets to a server in Eclipse. The project creation wizard supports "
"creation of Vaadin portlets."
msgstr ""
"Liferay IDE 与 Vaadin plugin 一样, 是以 plugin 形式安装到 Eclipse 中的, 它是"
"用于 Liferay portlet 的开发环境. Liferay IDE 可以将 portlet 发布到开发环境集"
"成的 Liferay 上, 就好象你可以在 Eclipse 内将 servlet 发布到应用程序服务器上一"
"样. 工程创建向导支持创建 Vaadin portlet."

#. Tag: para
#: chapter-portal.xml:501
#, no-c-format
msgid ""
"Loading widget sets, themes, and the Vaadin JAR from a portlet is possible "
"as long as you have a single portlet, but causes a problem if you have "
"multiple portlets. To solve this, Vaadin portlets need to use a globally "
"installed widget set, theme, and Vaadin libraries."
msgstr ""
"从 portlet 中装载 widget 群, theme, 以及 Vaadin JAR 库是可能的, 但前提是只存"
"在单一的 portlet, 如果有多个 portlet 就会出现问题. 为解决这个问题, Vaadin "
"portlet 需要使用在全局范围安装的 widget 群, theme, 和 Vaadin 库."

#. Tag: emphasis
#: chapter-portal.xml:509
#, no-c-format
msgid ""
"Liferay 6.2, which is the latest Liferay version at the time of publication "
"of this book, comes bundled with an older Vaadin 6 version. If you want to "
"use Vaadin 7, you need to remove the bundled version and install the newer "
"one manually as described in this chapter."
msgstr ""
"本书发布时, Liferay 的最新版本是 Liferay 6.2, 其中捆绑了旧的 Vaadin 6 版. 如"
"果你希望使用 Vaadin 7, 那么你需要删除 Liferay 中捆绑的版本, 然后手工安装新版"
"本, 具体方法参见本章的介绍."

#. Tag: para
#: chapter-portal.xml:515
#, no-c-format
msgid ""
"In these instructions, we assume that you use Liferay bundled with Apache "
"Tomcat, although you can use almost any other application server with "
"Liferay just as well. The Tomcat installation is included in the Liferay "
"installation package, under the <filename>tomcat-x.x.x</filename> directory."
msgstr ""
"在本章叙述的安装指南中, 我们假定你使用的是与 Apache Tomcat 绑定的 Liferay, 当"
"然你也可以使用任何其他类型的应用程序服务器来运行 Liferay. Tomcat 本身已包含"
"在 Liferay 的安装包之内, 在 <filename>tomcat-x.x.x</filename> 目录内."

#. Tag: title
#: chapter-portal.xml:523
#, no-c-format
msgid "Removing the Bundled Installation"
msgstr "删除 Liferay 自带的 Vaadin"

#. Tag: para
#: chapter-portal.xml:525
#, no-c-format
msgid ""
"Before installing a new Vaadin version, you need to remove the version "
"bundled with Liferay. You need to remove the Vaadin library JAR from the "
"library directory of the portal and the <filename>VAADIN</filename> "
"directory from under the root context. For example, with Liferay bundled "
"with Tomcat, they are usually located as follows:"
msgstr ""
"在安装新版本的 Vaadin 之前, 你需要删除 Liferay 捆绑的版本. 你需要从 portal 的"
"库目录, 以及根路径下的 <filename>VAADIN</filename> 目录中删除 Vaadin 库的 "
"JAR 文件. 比如, 对于 Liferay 捆绑的 Tomcat, 需要删除的文件通常在以下目录中:"

#. Tag: filename
#: chapter-portal.xml:534
#, no-c-format
msgid "tomcat-x.x.x/webapps/ROOT/html/VAADIN"
msgstr ""

#. Tag: filename
#: chapter-portal.xml:535
#, no-c-format
msgid "tomcat-x.x.x/webapps/ROOT/WEB-INF/lib/vaadin.jar"
msgstr ""

#. Tag: title
#: chapter-portal.xml:540
#, no-c-format
msgid "Installing Vaadin Resources"
msgstr "安装 Vaadin 资源"

#. Tag: para
#: chapter-portal.xml:542
#, no-c-format
msgid ""
"To use common resources needed by multiple Vaadin portlets, you can install "
"them globally as shared resources as described in the following."
msgstr ""
"为了使用多个 Vaadin portlet 所需要的共通资源, 你可以将它们安装为全局共用资"
"源, 方法参见下文."

#. Tag: para
#: chapter-portal.xml:547
#, no-c-format
msgid ""
"If you are installing Vaadin in a Liferay version that comes bundled with an "
"older version of Vaadin, you first need to remove the resources as described "
"in <xref linkend=\"portal.liferay.remove\"/>."
msgstr ""
"如果你实在捆绑了就版本 Vaadin 的 Liferay 中安装 Vaadin, 那么你首先需要删除相"
"关资源, 详情请参见 <xref linkend=\"portal.liferay.remove\"/>."

#. Tag: para
#: chapter-portal.xml:553
#, no-c-format
msgid ""
"In the following, we assume that you use only the built-in \"liferay\" theme "
"in Vaadin and the default widget set."
msgstr ""
"下文中, 我们假设你只使用 Vaadin 内建的 \"liferay\" theme, 以及默认的 widget "
"set."

#. Tag: listitem
#: chapter-portal.xml:559
#, no-c-format
msgid "Get the Vaadin installation package from the Vaadin download page"
msgstr "从 Vaadin 下载页面取得 Vaadin 安装包"

#. Tag: listitem
#: chapter-portal.xml:561
#, no-c-format
msgid ""
"Extract the following Vaadin JARs from the installation package: "
"<filename>vaadin-server.jar</filename> and <filename>vaadin-shared.jar</"
"filename>, as well as the <filename>vaadin-shared-deps.jar</filename> and "
"<filename>jsoup.jar</filename> dependencies from the <filename>lib</"
"filename> folder"
msgstr ""
"从安装包中解开以下 Vaadin JAR 文件: <filename>vaadin-server.jar</filename> "
"和 <filename>vaadin-shared.jar</filename>, 以及它们依赖的 <filename>lib</"
"filename> 目录下的 <filename>vaadin-shared-deps.jar</filename> 和 "
"<filename>jsoup.jar</filename>."

#. Tag: listitem
#: chapter-portal.xml:568
#, no-c-format
msgid ""
"Rename the JAR files as they were listed above, without the version number"
msgstr "删除 JAR 文件名中的版本数字, 改为上述文件名"

#. Tag: listitem
#: chapter-portal.xml:570
#, no-c-format
msgid ""
"Put the libraries in <filename>tomcat-x.x.x/webapps/ROOT/WEB-INF/lib/</"
"filename>"
msgstr ""
"将库文件放到 <filename>tomcat-x.x.x/webapps/ROOT/WEB-INF/lib/</filename> 目录"
"中"

#. Tag: para
#: chapter-portal.xml:573
#, no-c-format
msgid ""
"Extract the <filename>VAADIN</filename> folders from <filename>vaadin-server."
"jar</filename>, <filename>vaadin-themes.jar</filename>, and <filename>vaadin-"
"client-compiled.jar</filename> and copy their contents to <filename>tomcat-x."
"x.x/webapps/ROOT/html/VAADIN</filename>."
msgstr ""
"从 <filename>vaadin-server.jar</filename>, <filename>vaadin-themes.jar</"
"filename>, 以及<filename>vaadin-client-compiled.jar</filename> 中解开 "
"<filename>VAADIN</filename> 文件夹, 然后将其中的内容复制到 <filename>tomcat-"
"x.x.x/webapps/ROOT/html/VAADIN</filename> 目录中."

#. Tag: screen
#: chapter-portal.xml:582
#, no-c-format
msgid "<prompt>$</prompt> <command>cd</command> tomcat-x.x.x/webapps/ROOT/html"
msgstr ""

#. Tag: screen
#: chapter-portal.xml:583
#, no-c-format
msgid ""
"<prompt>$</prompt> <command>unzip</command> path-to/vaadin-server-7.1.0.jar "
"'VAADIN/*'"
msgstr ""

#. Tag: screen
#: chapter-portal.xml:584
#, no-c-format
msgid ""
"<prompt>$</prompt> <command>unzip</command> path-to/vaadin-themes-7.1.0.jar "
"'VAADIN/*'"
msgstr ""

#. Tag: screen
#: chapter-portal.xml:585
#, no-c-format
msgid ""
"<prompt>$</prompt> <command>unzip</command> path-to/vaadin-client-"
"compiled-7.1.0.jar 'VAADIN/*'"
msgstr ""

#. Tag: para
#: chapter-portal.xml:590
#, no-c-format
msgid ""
"You need to define the widget set, the theme, and the JAR in the "
"<filename>portal-ext.properties</filename> configuration file for Liferay, "
"as described earlier. The file should normally be placed in the Liferay "
"installation directory. See Liferay documentation for details on the "
"configuration file."
msgstr ""
"你需要在 Liferay 的 <filename>portal-ext.properties</filename> 配置文件中定"
"义 widget 群, theme, 以及 JAR, 详情请参见前文. 这个文件通常位于 Liferay 安装"
"目录中. 关于这个配置文件, 详情请参见 Liferay 文档."

#. Tag: para
#: chapter-portal.xml:598
#, no-c-format
msgid ""
"Below is an example of a <filename>portal-ext.properties</filename> file:"
msgstr "以下是 <filename>portal-ext.properties</filename> 文件的例子:"

#. Tag: programlisting
#: chapter-portal.xml:602
#, no-c-format
msgid ""
"<?pocket-size 70% ?><![CDATA[# Path under which the VAADIN directory is "
"located.\n"
"# (/html is the default so it is not needed.)\n"
"# vaadin.resources.path=/html\n"
"\n"
"# Portal-wide widget set\n"
"vaadin.widgetset=com.vaadin.server.DefaultWidgetSet\n"
"\n"
"# Theme to use\n"
"vaadin.theme=liferay]]>"
msgstr ""

#. Tag: para
#: chapter-portal.xml:604
#, no-c-format
msgid "The allowed parameters are:"
msgstr "其中允许的参数有:"

#. Tag: parameter
#: chapter-portal.xml:610
#, no-c-format
msgid "vaadin.resources.path"
msgstr ""

#. Tag: para
#: chapter-portal.xml:612
#, no-c-format
msgid ""
"Specifies the resource root path under the portal context. This is "
"<filename>/html</filename> by default. Its actual location depends on the "
"portal and the application server; in Liferay with Tomcat it would be "
"located at <filename>webapps/ROOT/html</filename> under the Tomcat "
"installation directory."
msgstr ""
"指定 portal 环境中的资源根路径. 这个设定项的默认值是 <filename>/html</"
"filename>. 这个路径的实际位置取决于 portal 和应用程序服务器; 在 Liferay 和 "
"Tomcat 环境中, 应该是 Tomcat 安装目录下的 <filename>webapps/ROOT/html</"
"filename>."

#. Tag: parameter
#: chapter-portal.xml:620
#, no-c-format
msgid "vaadin.widgetset"
msgstr ""

#. Tag: para
#: chapter-portal.xml:622
#, no-c-format
msgid ""
"The widget set class to use. Give the full path to the class name in the dot "
"notation. If the parameter is not given, the default widget set is used."
msgstr ""
"使用的 widget set 类. 需要用点分隔格式指定类名的全路径. 如果这个参数未指定, "
"会使用默认的 widget 群."

#. Tag: parameter
#: chapter-portal.xml:628
#, no-c-format
msgid "vaadin.theme"
msgstr ""

#. Tag: para
#: chapter-portal.xml:630
#, no-c-format
msgid ""
"Name of the theme to use. If the parameter is not given, the default theme "
"is used, which is <literal>reindeer</literal> in Vaadin 6."
msgstr ""
"使用的 theme 的名称. 如果这个参数未指定, 会使用默认的 theme, Vaadin 6 中的默"
"认 theme 是 <literal>reindeer</literal>."

#. Tag: para
#: chapter-portal.xml:637
#, no-c-format
msgid ""
"You will need to restart Liferay after creating or modifying the "
"<filename>portal-ext.properties</filename> file."
msgstr ""
"创建或修改 <filename>portal-ext.properties</filename> 文件之后, 你需要重启 "
"Liferay."

#. Tag: title
#: chapter-portal.xml:644
#, no-c-format
msgid "Portlet UI"
msgstr ""

#. Tag: para
#: chapter-portal.xml:646
#, no-c-format
msgid ""
"A portlet UI is just like in a regular Vaadin application, a class that "
"extends <classname>com.vaadin.ui.UI</classname>."
msgstr ""
"portlet UI 与通常的 Vaadin 应用程序中的 UI 一样, 继承自 <classname>com."
"vaadin.ui.UI</classname> 基类."

#. Tag: programlisting
#: chapter-portal.xml:651
#, no-c-format
msgid ""
"<?pocket-size 65% ?><![CDATA[@Theme(\"myportlet\")\n"
"public class MyportletUI extends UI {\n"
"    @Override\n"
"    protected void init(VaadinRequest request) {\n"
"        final VerticalLayout layout = new VerticalLayout();\n"
"        layout.setMargin(true);\n"
"        setContent(layout);\n"
"\n"
"        Button button = new Button(\"Click Me\");\n"
"        button.addClickListener(new Button.ClickListener() {\n"
"            public void buttonClick(ClickEvent event) {\n"
"                layout.addComponent(\n"
"                        new Label(\"Thank you for clicking\"));\n"
"            }\n"
"        });\n"
"        layout.addComponent(button);\n"
"    }\n"
"}]]>"
msgstr ""

#. Tag: para
#: chapter-portal.xml:653
#, no-c-format
msgid ""
"If you created the project as a Servlet 3.0 project, the generated UI stub "
"includes a static servlet class annotated with <classname>@WebServlet</"
"classname>, as described in <xref linkend=\"getting-started.first-project."
"exploring\"/>."
msgstr ""
"如果你创建的是 Servlet 3.0 工程, 那么自动生成的 UI 框架代码将包含一个静态的 "
"servlet 类, 并被标记为 <classname>@WebServlet</classname>, 详情请参见 <xref "
"linkend=\"getting-started.first-project.exploring\"/>."

#. Tag: programlisting
#: chapter-portal.xml:660
#, no-c-format
msgid ""
"<?pocket-size 65% ?><![CDATA[    @WebServlet(value = \"/*\", asyncSupported "
"= true)\n"
"    @VaadinServletConfiguration(productionMode = false,\n"
"                                ui = MyportletUI.class)\n"
"    public static class Servlet extends VaadinServlet {\n"
"    }]]>"
msgstr ""

#. Tag: para
#: chapter-portal.xml:662
#, no-c-format
msgid ""
"This enables running the portlet UI in a servlet container while developing "
"it, which may be easier than deploying to a portal. For Servlet 2.4 "
"projects, a <filename>web.xml</filename> is created."
msgstr ""
"这样的代码使你可以在开发过程中使用 servlet 容器来运行 portlet UI, 这样的方式"
"要比将 portal 发布到服务器上简便一些. 对于 Servlet 2.4 工程, 会创建 "
"<filename>web.xml</filename> 配置文件."

#. Tag: para
#: chapter-portal.xml:668
#, no-c-format
msgid ""
"The portlet theme is defined with the <classname>@Theme</classname> "
"annotation as usual. The theme for the UI must match a theme installed in "
"the portal. You can use any of the built-in themes in Vaadin. For Liferay "
"theme compatibility, there is a special <literal>liferay</literal> theme. If "
"you use a custom theme, you need to compile it to CSS with the theme "
"compiler and install it in the portal under the <filename>VAADIN/themes</"
"filename> context to be served statically."
msgstr ""
"和通常的应用程序一样, Portlet 的 theme 使用 <classname>@Theme</classname> 注"
"解来定义 . UI 的 theme 必须与 portal 中安装的 theme 一致. 你可以使用 Vaadin "
"内建的任何一种 theme. 为了与 Liferay theme 兼容, 还存在一个特别的 "
"<literal>liferay</literal> theme. 如果你使用自定义 theme, 你需要使用 theme 编"
"译器将它编译为 CSS, 然后安装到 portal 的 <filename>VAADIN/themes</filename> "
"路径下, 并静态地向外提供."

#. Tag: para
#: chapter-portal.xml:678
#, no-c-format
msgid ""
"In addition to the UI class, you need the portlet descriptor files, Vaadin "
"libraries, and other files as described later. <xref linkend=\"figure.portal."
"helloworld.project\"/> shows the complete project structure under Eclipse."
msgstr ""
"除 UI 类之外, 你还需要 portlet 描述文件, Vaadin 库文件, 以及其他文件, 详情请"
"见后文. <xref linkend=\"figure.portal.helloworld.project\"/> 展示了在 "
"Eclipse 中的完整的工程结构."

#. Tag: title
#: chapter-portal.xml:686
#, no-c-format
msgid "Portlet Project Structure in Eclipse"
msgstr "Eclipse 中的 Portlet 工程结构"

#. Tag: para
#: chapter-portal.xml:697
#, no-c-format
msgid ""
"Installed as a portlet in Liferay from the <guilabel>Add Application</"
"guilabel> menu, the application will show as illustrated in <xref linkend="
"\"figure.portal.helloworld\"/>."
msgstr ""
"使用 <guilabel>Add Application</guilabel> 菜单可以将应用程序作为 portlet 安装"
"到 Liferay 中, 此时的应用程序运行结果见 <xref linkend=\"figure.portal."
"helloworld\"/>."

#. Tag: title
#: chapter-portal.xml:704
#, no-c-format
msgid "Hello World Portlet"
msgstr ""

#. Tag: title
#: chapter-portal.xml:717
#, no-c-format
msgid "Deploying to a Portal"
msgstr "部署到 Portal 中"

#. Tag: para
#: chapter-portal.xml:719
#, no-c-format
msgid ""
"To deploy a portlet WAR in a portal, you need to provide a <filename>portlet."
"xml</filename> descriptor specified in the Java Portlet API 2.0 standard "
"(JSR-286). In addition, you may need to include possible portal vendor "
"specific deployment descriptors. The ones required by Liferay are described "
"below."
msgstr ""
"要在 portal 中部署一个 portlet WAR 包, 你需要提供一个 <filename>portlet.xml</"
"filename> 部署描述文件, 部署描述文件由 Java Portlet API 2.0 标准(JSR-286) 定"
"义. 此外, 你可能还需要包含 portal 厂商独有的部署描述文件. Liferay 所需要的部"
"署描述文件如下."

#. Tag: para
#: chapter-portal.xml:727
#, no-c-format
msgid ""
"Deploying a Vaadin UI as a portlet is essentially just as easy as deploying "
"a regular application to an application server. You do not need to make any "
"changes to the UI itself, but only the following:"
msgstr ""
"将一个 Vaadin UI 部署为 portlet, 与部署一个通常的应用程序同样简单. 你不需要"
"对 UI 本身做任何修改, 只需要以下内容:"

#. Tag: para
#: chapter-portal.xml:734
#, no-c-format
msgid "Application packaged as a WAR"
msgstr "将应用程序打包为 WAR 形式"

#. Tag: para
#: chapter-portal.xml:736
#, no-c-format
msgid "<filename>WEB-INF/portlet.xml</filename> descriptor"
msgstr "<filename>WEB-INF/portlet.xml</filename> 部署描述文件"

#. Tag: para
#: chapter-portal.xml:737
#, no-c-format
msgid "<filename>WEB-INF/liferay-portlet.xml</filename> descriptor for Liferay"
msgstr ""
"<filename>WEB-INF/liferay-portlet.xml</filename> Liferay 专有部署描述文件"

#. Tag: para
#: chapter-portal.xml:738
#, no-c-format
msgid "<filename>WEB-INF/liferay-display.xml</filename> descriptor for Liferay"
msgstr ""
"<filename>WEB-INF/liferay-display.xml</filename> Liferay 专有部署描述文件"

#. Tag: para
#: chapter-portal.xml:739
#, no-c-format
msgid ""
"<filename>WEB-INF/liferay-plugin-package.properties</filename> for Liferay"
msgstr ""
"<filename>WEB-INF/liferay-plugin-package.properties</filename> Liferay 专有设"
"置文件"

#. Tag: listitem
#: chapter-portal.xml:743
#, no-c-format
msgid "Widget set installed to portal (optional)"
msgstr "安装 Widget 群到 portal 中(可选)"

#. Tag: listitem
#: chapter-portal.xml:744
#, no-c-format
msgid "Themes installed to portal (optional)"
msgstr "安装 theme 到 portal 中(可选)"

#. Tag: listitem
#: chapter-portal.xml:745
#, no-c-format
msgid "Vaadin libraries installed to portal (optional)"
msgstr "安装 Vaadin 库文件到 portal中(可选)"

#. Tag: listitem
#: chapter-portal.xml:746
#, no-c-format
msgid "Portal configuration settings (optional)"
msgstr "Portal 配置文件(可选)"

#. Tag: para
#: chapter-portal.xml:749
#, no-c-format
msgid ""
"The Vaadin Plugin for Eclipse creates these files for you, when you create a "
"portlet project as described in <xref linkend=\"portal.eclipse\"/>."
msgstr ""
"使用 Vaadin Plugin for Eclipse 创建 portlet 工程时, 向导会为你创建这些文件, "
"详情请参见 <xref linkend=\"portal.eclipse\"/>."

#. Tag: para
#: chapter-portal.xml:754
#, no-c-format
msgid ""
"Installing the widget set and themes to the portal is required for running "
"two or more Vaadin portlets simultaneously in a single portal page. As this "
"situation occurs quite easily, we recommend installing them in any case. "
"Instructions for Liferay are given in <xref linkend=\"portal.liferay\"/> and "
"the procedure is similar for other portals."
msgstr ""
"为了在单个的 portal 页面中同时运行两个或以上的 Vaadin portlet, 你需要安装 "
"widget 群和 theme 到 portal 中. 这种情况是很容易发生的, 因此我们通常建议你安"
"装它们. 针对 Liferay 的安装指南请参见 <xref linkend=\"portal.liferay\"/>, 对"
"于其他  portal 服务器的情况, 安装过程类似."

#. Tag: para
#: chapter-portal.xml:762
#, no-c-format
msgid ""
"In addition to the Vaadin libraries, you will need to have the "
"<filename>portlet.jar</filename> in your project classpath. However, notice "
"that you must <emphasis>not</emphasis> put the <filename>portlet.jar</"
"filename> in the same <filename>WEB-INF/lib</filename> directory as the "
"Vaadin JAR or otherwise include it in the WAR to be deployed, because it "
"would create a conflict with the internal portlet library of the portal. The "
"conflict would cause errors such as \"<literal>ClassCastException: ..."
"VaadinPortlet cannot be cast to javax.portlet.Portlet</literal>\"."
msgstr ""
"除 Vaadin 库文件外, 你还需要将 <filename>portlet.jar</filename> 放在你的工程"
"类路径中. 但请注意, 你 <emphasis>一定不能</emphasis> 将 <filename>portlet."
"jar</filename> 文件和 Vaadin JAR 文件一样放在 <filename>WEB-INF/lib</"
"filename> 目录下, 也不能将这个文件包含在需要部署的 WAR 之内, 因为这样会导致它"
"与 portal 内部的 portlet 库文件发生冲突. 这种冲突会导致 "
"\"<literal>ClassCastException: ...VaadinPortlet cannot be cast to javax."
"portlet.Portlet</literal>\" 之类的错误."

#. Tag: title
#: chapter-portal.xml:774
#, no-c-format
msgid "Portlet Deployment Descriptor"
msgstr "Portlet 部署描述符"

#. Tag: para
#: chapter-portal.xml:776
#, no-c-format
msgid ""
"The portlet WAR must include a portlet descriptor located at <filename>WEB-"
"INF/portlet.xml</filename>. A portlet definition includes the portlet name, "
"mapping to a servlet, modes supported by the portlet, and other "
"configuration. Below is an example of a simple portlet definition in "
"<filename>portlet.xml</filename> descriptor."
msgstr ""
"portlet WAR 文件中必须包含 portlet 描述符, 路径是 <filename>WEB-INF/portlet."
"xml</filename>. portlet 定义包括: portlet 名称, 与 servlet 的映射, portlet 支"
"持的模式, 以及其他配置. 下面是 <filename>portlet.xml</filename> 部署描述文件"
"中, 一个 portlet 定义的简单例子."

#. Tag: programlisting
#: chapter-portal.xml:784
#, no-c-format
msgid ""
"<?pocket-size 65% ?>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone="
"\"no\"?&gt;\n"
"&lt;portlet-app\n"
"  xmlns=\"http://java.sun.com/xml/ns/portlet/portlet-app_2_0.xsd\"\n"
"  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n"
"  version=\"2.0\"\n"
"  xsi:schemaLocation=\n"
"    \"http://java.sun.com/xml/ns/portlet/portlet-app_2_0.xsd\n"
"     http://java.sun.com/xml/ns/portlet/portlet-app_2_0.xsd\"&gt;\n"
"\n"
"  &lt;portlet&gt;\n"
"    &lt;portlet-name&gt;<emphasis role=\"bold\">Portlet Example portlet</"
"emphasis>&lt;/portlet-name&gt;\n"
"    &lt;display-name&gt;<emphasis role=\"bold\">Vaadin Portlet Example</"
"emphasis>&lt;/display-name&gt;\n"
"\n"
"    &lt;!-- Map portlet to a servlet. --&gt;\n"
"    &lt;portlet-class&gt;\n"
"      com.vaadin.server.VaadinPortlet\n"
"    &lt;/portlet-class&gt;\n"
"    &lt;init-param&gt;\n"
"      &lt;name&gt;UI&lt;/name&gt;\n"
"\n"
"      &lt;!-- The application class with package name. --&gt;\n"
"      &lt;value&gt;<emphasis role=\"bold\">com.example.myportlet."
"MyportletUI</emphasis>&lt;/value&gt;\n"
"    &lt;/init-param&gt;\n"
"\n"
"    &lt;!-- Supported portlet modes and content types. --&gt;\n"
"    &lt;supports&gt;\n"
"      &lt;mime-type&gt;text/html&lt;/mime-type&gt;\n"
"      &lt;portlet-mode&gt;view&lt;/portlet-mode&gt;\n"
"      &lt;portlet-mode&gt;edit&lt;/portlet-mode&gt;\n"
"      &lt;portlet-mode&gt;help&lt;/portlet-mode&gt;\n"
"    &lt;/supports&gt;\n"
"\n"
"    &lt;!-- Not always required but Liferay requires these. --&gt;\n"
"    &lt;portlet-info&gt;\n"
"      &lt;title&gt;<emphasis role=\"bold\">Vaadin Portlet Example</"
"emphasis>&lt;/title&gt;\n"
"      &lt;short-title&gt;<emphasis role=\"bold\">Portlet Example</"
"emphasis>&lt;/short-title&gt;\n"
"    &lt;/portlet-info&gt;\n"
"  &lt;/portlet&gt;\n"
"&lt;/portlet-app&gt;"
msgstr ""

#. Tag: para
#: chapter-portal.xml:786
#, no-c-format
msgid ""
"Listing supported portlet modes in <filename>portlet.xml</filename> enables "
"the corresponding portlet controls in the portal user interface that allow "
"changing the mode, as described later."
msgstr ""
"在 <filename>portlet.xml</filename> 中列举所支持的 portlet 模式, 可以在 "
"portal 用户界面中激活相应的控制功能, 来切换不同的 portlet 模式, 详情请见后文."

#. Tag: title
#: chapter-portal.xml:794
#, no-c-format
msgid "Liferay Portlet Descriptor"
msgstr "Liferay Portlet 描述符"

#. Tag: primary
#: chapter-portal.xml:797 chapter-portal.xml:829 chapter-portal.xml:877
#, no-c-format
msgid "Liferay"
msgstr ""

#. Tag: secondary
#: chapter-portal.xml:798
#, no-c-format
msgid "portlet descriptor"
msgstr ""

#. Tag: para
#: chapter-portal.xml:801
#, no-c-format
msgid ""
"Liferay requires a special <filename>liferay-portlet.xml</filename> "
"descriptor file that defines Liferay-specific parameters. Especially, Vaadin "
"portlets must be defined as \"<emphasis>instanceable</emphasis>\", but not "
"\"<emphasis>ajaxable</emphasis>\"."
msgstr ""
"Liferay 需要特殊的 <filename>liferay-portlet.xml</filename> 描述文件, 其中定"
"义了 Liferay 独有的参数. 尤其是, Vaadin portlet 必须定义为 "
"\"<emphasis>instanceable</emphasis>\", 而不是 \"<emphasis>ajaxable</emphasis>"
"\"."

#. Tag: para
#: chapter-portal.xml:808
#, no-c-format
msgid "Below is an example descriptor for the earlier portlet example:"
msgstr "前例中 portlet 的描述文件如下:"

#. Tag: programlisting
#: chapter-portal.xml:812
#, no-c-format
msgid ""
"<?pocket-size 65% ?>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n"
"&lt;!DOCTYPE liferay-portlet-app PUBLIC\n"
"  \"-//Liferay//DTD Portlet Application 4.3.0//EN\"\n"
"  \"http://www.liferay.com/dtd/liferay-portlet-app_4_3_0.dtd\"&gt;\n"
"\n"
"&lt;liferay-portlet-app&gt;\n"
"    &lt;portlet&gt;\n"
"        &lt;!-- Matches definition in portlet.xml.          --&gt;\n"
"        &lt;!-- Note: Must not be the same as servlet name. --&gt;\n"
"        &lt;portlet-name&gt;<emphasis role=\"bold\">Portlet Example portlet</"
"emphasis>&lt;/portlet-name&gt;\n"
"\n"
"        &lt;instanceable&gt;true&lt;/instanceable&gt;\n"
"        &lt;ajaxable&gt;false&lt;/ajaxable&gt;\n"
"    &lt;/portlet&gt;\n"
"&lt;/liferay-portlet-app&gt;"
msgstr ""

#. Tag: para
#: chapter-portal.xml:814
#, no-c-format
msgid ""
"See Liferay documentation for further details on the <filename>liferay-"
"portlet.xml</filename> deployment descriptor."
msgstr ""
"<filename>liferay-portlet.xml</filename> 部署描述文件的更多详情, 请参见 "
"Liferay 的文档."

#. Tag: title
#: chapter-portal.xml:823
#, no-c-format
msgid "Liferay Display Descriptor"
msgstr "Liferay Display 描述符"

#. Tag: filename
#: chapter-portal.xml:826
#, no-c-format
msgid "liferay-display.xml"
msgstr ""

#. Tag: secondary
#: chapter-portal.xml:830
#, no-c-format
msgid "display descriptor"
msgstr ""

#. Tag: para
#: chapter-portal.xml:833
#, no-c-format
msgid ""
"The <filename>WEB-INF/liferay-display.xml</filename> file defines the "
"portlet category under which portlets are located in the <guilabel>Add "
"Application</guilabel> window in Liferay. Without this definition, portlets "
"will be organized under the \"Undefined\" category."
msgstr ""
"<filename>WEB-INF/liferay-display.xml</filename> 文件定义 portlet 在 Liferay "
"的 <guilabel>Add Application</guilabel> 画面中所属的种别. 如果没有这个定义, "
"portlet 将属于 \"Undefined\" 种别."

#. Tag: para
#: chapter-portal.xml:840
#, no-c-format
msgid ""
"The following display configuration, which is included in the demo WAR, puts "
"the Vaadin portlets under the \"Vaadin\" category, as shown in <xref linkend="
"\"figure.portal.liferay.descriptor.display\"/>."
msgstr ""
"下面的显示配置, 包含在示例 WAR 中, 将 Vaadin portlet 放在 \"Vaadin\" 种别中, "
"运行结果见 <xref linkend=\"figure.portal.liferay.descriptor.display\"/>."

#. Tag: programlisting
#: chapter-portal.xml:846
#, no-c-format
msgid ""
"<?pocket-size 75% ?><![CDATA[<?xml version=\"1.0\"?>\n"
"<!DOCTYPE display PUBLIC\n"
"  \"-//Liferay//DTD Display 4.0.0//EN\"\n"
"  \"http://www.liferay.com/dtd/liferay-display_4_0_0.dtd\">\n"
"\n"
"<display>\n"
"    <category name=\"Vaadin\">\n"
"        <portlet id=\"Portlet Example portlet\" />\n"
"    </category>\n"
"</display>]]>"
msgstr ""

#. Tag: title
#: chapter-portal.xml:849
#, no-c-format
msgid "Portlet Categories in Add Application Window"
msgstr "Add Application 窗口中的 Portlet 种别"

#. Tag: para
#: chapter-portal.xml:860
#, no-c-format
msgid ""
"See Liferay documentation for further details on how to configure the "
"categories in the <filename>liferay-display.xml</filename> deployment "
"descriptor."
msgstr ""
"关于如何在 <filename>liferay-display.xml</filename> 部署描述文件中配置 "
"Portlet 种别, 更多详细信息请参见 Liferay 文档."

#. Tag: title
#: chapter-portal.xml:871
#, no-c-format
msgid "Liferay Plugin Package Properties"
msgstr "Liferay Plugin Package Properties 文件"

#. Tag: filename
#: chapter-portal.xml:874
#, no-c-format
msgid "liferay-plugin-package.xml"
msgstr ""

#. Tag: secondary
#: chapter-portal.xml:878
#, no-c-format
msgid "plugin properties"
msgstr ""

#. Tag: para
#: chapter-portal.xml:881
#, no-c-format
msgid ""
"The <filename>liferay-plugin-package.properties</filename> file defines a "
"number of settings for the portlet, most importantly the Vaadin JAR to be "
"used."
msgstr ""
"<filename>liferay-plugin-package.properties</filename> 文件定义了 portlet 的"
"很多设定, 其中最重要的是指定如何使用 Vaadin JAR 文件."

#. Tag: programlisting
#: chapter-portal.xml:887
#, no-c-format
msgid ""
"<?pocket-size 75% ?>name=<emphasis role=\"bold\">Portlet Example portlet</"
"emphasis>\n"
"short-description=<emphasis role=\"bold\">myportlet</emphasis>\n"
"module-group-id=<emphasis role=\"bold\">Vaadin</emphasis>\n"
"module-incremental-version=1\n"
"#change-log=\n"
"#page-uri=\n"
"#author=\n"
"license=Proprietary\n"
"portal-dependency-jars=\\\n"
"    <emphasis role=\"bold\">vaadin.jar</emphasis>"
msgstr ""

#. Tag: parameter
#: chapter-portal.xml:891
#, no-c-format
msgid "name"
msgstr ""

#. Tag: para
#: chapter-portal.xml:893
#, no-c-format
msgid "The plugin name must match the portlet name."
msgstr "plugin 名称必须与 portlet 名称一致."

#. Tag: parameter
#: chapter-portal.xml:899
#, no-c-format
msgid "short-description"
msgstr ""

#. Tag: para
#: chapter-portal.xml:901
#, no-c-format
msgid "A short description of the plugin. This is by default the project name."
msgstr "对 plugin 的简短描述. 默认值是工程名称."

#. Tag: parameter
#: chapter-portal.xml:908
#, no-c-format
msgid "module-group-id"
msgstr ""

#. Tag: para
#: chapter-portal.xml:910
#, no-c-format
msgid ""
"The application group, same as the category id defined in <filename>liferay-"
"display.xml</filename>."
msgstr ""
"应用程序 group ID, 与 <filename>liferay-display.xml</filename> 中的 category "
"ID 一致."

#. Tag: parameter
#: chapter-portal.xml:917
#, no-c-format
msgid "license"
msgstr ""

#. Tag: para
#: chapter-portal.xml:919
#, no-c-format
msgid "The plugin license type; \"proprietary\" by default."
msgstr "plugin 的 license 种类; 默认值是 \"proprietary\"."

#. Tag: parameter
#: chapter-portal.xml:925
#, no-c-format
msgid "portal-dependency-jars"
msgstr ""

#. Tag: para
#: chapter-portal.xml:927
#, no-c-format
msgid ""
"The JAR libraries on which this portlet depends. This should have value "
"<filename>vaadin.jar</filename>, unless you need to use a specific version. "
"The JAR must be installed in the portal, for example, in Liferay bundled "
"with Tomcat to <filename>tomcat-x.x.x/webapps/ROOT/WEB-INF/lib/vaadin.jar</"
"filename>."
msgstr ""
"指定 portlet 依赖的 JAR 库文件. 这个项目的值应该是 <filename>vaadin.jar</"
"filename>, 除非你需要使用某个特定的版本. JAR 文件必须安装到 portal 内, 比如, "
"在与 Tomcat 绑定的 Liferay 环境中, 应该安装到 <filename>tomcat-x.x.x/webapps/"
"ROOT/WEB-INF/lib/vaadin.jar</filename> 路径."

#. Tag: title
#: chapter-portal.xml:943
#, no-c-format
msgid "Using a Single Widget Set"
msgstr "使用单一的 Widget 群"

#. Tag: para
#: chapter-portal.xml:945
#, no-c-format
msgid ""
"If you have just one Vaadin application that you ever need to run in your "
"portal, you can just deploy the WAR as described above and that's it. "
"However, if you have multiple applications, especially ones that use "
"different custom widget sets, you run into problems, because a portal window "
"can load only a single Vaadin widget set at a time. You can solve this "
"problem by combining all the different widget sets in your different "
"applications into a single widget set using inheritance or composition."
msgstr ""
"如果你只有一个 Vaadin 应用程序需要运行在 portal 内, 那么你可以按照前面所说的"
"方法部署 WAR 文件即可. 但是, 如果存在多个应用程序, 尤其是它们使用不同的自定"
"义 widget 群时, 就会发生问题, 因为一个 portal 窗口在同一时刻只能装载一个单独"
"的 Vaadin widget 群. 解决这个问题的方法, 可以是使用继承或复合的方式, 将所有应"
"用程序中的不同的 widget 群组合为一个单独的 widget 群."

#. Tag: para
#: chapter-portal.xml:955
#, no-c-format
msgid ""
"For example, if using the default widget set for portlets, you should have "
"the following for all portlets so that they will all use the same widget set:"
msgstr ""
"比如, 如果在某些 portlet 中使用默认的 widget 群, 那么对所有 portlet 都应该使"
"用以下设置, 让它们都使用相同的 widget 群:"

#. Tag: programlisting
#: chapter-portal.xml:961
#, no-c-format
msgid ""
"<?pocket-size 65% ?><![CDATA[<portlet>\n"
"  ...\n"
"  <!-- Use the portal default widget set for all portal demos. -->\n"
"  <init-param>\n"
"    <name>widgetset</name>\n"
"    <value>com.vaadin.portal.PortalDefaultWidgetSet</value>\n"
"  </init-param>\n"
"  ...]]>"
msgstr ""

#. Tag: para
#: chapter-portal.xml:963
#, no-c-format
msgid ""
"The <classname>PortalDefaultWidgetSet</classname> extends "
"<classname>SamplerWidgetSet</classname>, which extends the "
"<classname>DefaultWidgetSet</classname>. The <classname>DefaultWidgetSet</"
"classname> is therefore essentially a subset of "
"<classname>PortalDefaultWidgetSet</classname>, which contains also the "
"widgets required by the Sampler demo. Other applications that would "
"otherwise require only the regular <classname>DefaultWidgetSet</classname>, "
"and do not define their own widgets, can just as well use the larger set, "
"making them compatible with the demos. The "
"<classname>PortalDefaultWidgetSet</classname> will also be the default "
"Vaadin widgetset bundled in Liferay 5.3 and later."
msgstr ""
"<classname>PortalDefaultWidgetSet</classname> 类继承自 "
"<classname>SamplerWidgetSet</classname>, 这个类又继承自 "
"<classname>DefaultWidgetSet</classname>. <classname>DefaultWidgetSet</"
"classname> 实际上是 <classname>PortalDefaultWidgetSet</classname> 的一个子"
"集, PortalDefaultWidgetSet 中还包含示例程序所需要的 widget. 其他应用程序, 如"
"果只需要通常的 <classname>DefaultWidgetSet</classname>, 并且不指定自己的 "
"widget, 也可以使用更大的 widget 群, 使得它们与示例程序兼容. "
"<classname>PortalDefaultWidgetSet</classname> 还会是与 Liferay 5.3 会更高版本"
"绑定的默认 Vaadin widget 群."

#. Tag: para
#: chapter-portal.xml:977
#, no-c-format
msgid ""
"If your portlets are contained in multiple WARs, which can happen quite "
"typically, you need to install the widget set and theme portal-wide so that "
"all the portlets can use them. See <xref linkend=\"portal.liferay\"/> on "
"configuring the widget sets in the portal itself."
msgstr ""
"如果你的 portlet 包含在多个 WAR 文件中, 这是经常发生的情况, 你需要安装 "
"widget 群和 theme 到整个 portal 环境中, 使得所有的 portlet 都可以使用这些 "
"widget 群和 theme. 关于如何在 portal 中配置 widget 群, 详情请参见 <xref "
"linkend=\"portal.liferay\"/>."

#. Tag: title
#: chapter-portal.xml:986
#, no-c-format
msgid "Building the WAR Package"
msgstr "构建 WAR 包文件"

#. Tag: para
#: chapter-portal.xml:988
#, no-c-format
msgid ""
"To deploy the portlet, you need to build a WAR package. For production "
"deployment, you probably want to either use Maven or an Ant script to build "
"the package. In Eclipse, you can right-click on the project and select "
"<menuchoice><guimenu>Export</guimenu><guimenuitem>WAR</guimenuitem></"
"menuchoice>. Choose a name for the package and a target. If you have "
"installed Vaadin in the portal as described in <xref linkend=\"portal.liferay"
"\"/>, you should exclude all the Vaadin libraries, as well as widget set and "
"themes from the WAR."
msgstr ""
"为了部署 portlet, 你需要构建 WAR 包文件. 对于生产环境的部署, 你可能希望使用 "
"Maven 或 Ant 脚本来构建包. 在 Eclipse 中, 你可以在工程上点击鼠标右键, 然后选"
"择 <menuchoice><guimenu>Export</guimenu><guimenuitem>WAR</guimenuitem></"
"menuchoice> 菜单. 然后为保指定名称和目标运行环境. 如果你已经在 portal 中安装"
"了 Vaadin, 参见<xref linkend=\"portal.liferay\"/>, 你应该从 WAR 包文件中排除 "
"Vaadin 库, 以及 widget 群和 theme."

#. Tag: title
#: chapter-portal.xml:1002
#, no-c-format
msgid "Deploying the WAR Package"
msgstr "部署 WAR 包文件"

#. Tag: para
#: chapter-portal.xml:1004
#, no-c-format
msgid ""
"How you actually deploy a WAR package depends on the portal. In Liferay, you "
"simply drop it to the <filename>deploy</filename> subdirectory under the "
"Liferay installation directory. The deployment depends on the application "
"server under which Liferay runs; for example, if you use Liferay bundled "
"with Tomcat, you will find the extracted package in the <filename>webapps</"
"filename> directory under the Tomcat installation directory included in "
"Liferay."
msgstr ""
"WAR 包文件具体的部署方法取决于 portal 类型. 在 Liferay 中, 只需要简单地将它放"
"入 Liferay 安装目录的 <filename>deploy</filename> 子目录下. 部署过程由 "
"Liferay 所在的应用程序服务器完成; 比如, 如果使用与 Tomcat 绑定的 Liferay, 你"
"会在 Liferay 内包含的 Tomcat 安装目录下的 <filename>webapps</filename> 目录"
"中, 看到展开的包."

#. Tag: title
#: chapter-portal.xml:1017
#, no-c-format
msgid "Portlet Context"
msgstr ""

#. Tag: para
#: chapter-portal.xml:1019
#, no-c-format
msgid "To Be Done."
msgstr "本节未完成."

#. Tag: title
#: chapter-portal.xml:1289
#, no-c-format
msgid "Vaadin IPC for Liferay"
msgstr "Liferay 的 Vaadin IPC add-on"

#. Tag: primary
#: chapter-portal.xml:1291
#, no-c-format
msgid "IPC add-on"
msgstr ""

#. Tag: para
#: chapter-portal.xml:1293
#, no-c-format
msgid ""
"Portlets rarely live alone. A page can contain multiple portlets and when "
"the user interacts with one portlet, you may need to have the other portlets "
"react to the change immediately. This is not normally possible with Vaadin "
"portlets, as Vaadin applications need to get an Ajax request from the client-"
"side to change their user interface. On the other hand, the regular inter-"
"portlet communication (IPC) mechanism in Portlet 2.0 Specification requires "
"a complete page reload, but that is not appropriate with Vaadin or in "
"general Ajax applications, which do not require a page reload. One solution "
"is to communicate between the portlets on the server-side and then use a "
"server-push mechanism to update the client-side."
msgstr ""
"Portlet 通常不是独立存在的. 一个页面可以包含多个 portlet, 当用户操作一个 "
"portlet 时, 你可能需要让其他 portlet 立即作出反应. 使用 Vaadin portlet 通常无"
"法完成这个任务, 因为 Vaadin 应用程序需要在客户端使用 Ajax 请求来变更它的界"
"面. 而另一方面, Portlet 2.0 规约中通常的 portlet 间通信(IPC, inter-portlet "
"communication) 机制需要刷新整个页面, 但这种模式不适合于 Vaadin, 也适合于通常"
"的 Ajax 应用程序, 因为它们不需要刷新整个页面. 一种解决方法是在服务器端实现 "
"portlet 间的通信, 然后使用服务器 PUSH 机制来更新客户端界面."

#. Tag: para
#: chapter-portal.xml:1306
#, no-c-format
msgid ""
"The Vaadin IPC for Liferay Add-on takes another approach by communicating "
"between the portlets through the client-side. Events (messages) are sent "
"through the <classname>LiferayIPC</classname> component and the client-side "
"widget relays them to the other portlets, as illustrated in <xref linkend="
"\"figure.portal.liferay-ipc.architecture\"/>."
msgstr ""
"Vaadin IPC for Liferay 插件使用另一种方案, 它在客户端实现 portlet 间通信. 事"
"件 (消息) 通过 <classname>LiferayIPC</classname> 组件来发送, 客户端 widget 负"
"责将这些事件转发给其他 portlet, 详情见 <xref linkend=\"figure.portal.liferay-"
"ipc.architecture\"/>."

#. Tag: title
#: chapter-portal.xml:1315
#, no-c-format
msgid "Vaadin IPC for Liferay Architecture"
msgstr "Vaadin IPC for Liferay 架构"

#. Tag: para
#: chapter-portal.xml:1326
#, no-c-format
msgid ""
"Vaadin IPC for Liferay uses the Liferay JavaScript event API for client-side "
"inter-portlet communication, so you can communicate just as easily with "
"other Liferay portlets."
msgstr ""
"Vaadin IPC for Liferay 使用 Liferay JavaScript 事件 API 来实现 客户端 "
"portlet 间通信, 因此你的 portlet 间通信可以和其他 Liferay portlet 一样简单地"
"实现."

#. Tag: para
#: chapter-portal.xml:1332
#, no-c-format
msgid ""
"Notice that you can use this communication only between portlets on the same "
"page."
msgstr "注意, 你只能在同一个页面内的 portlet 之间使用这种通信方式."

#. Tag: para
#: chapter-portal.xml:1337
#, no-c-format
msgid ""
"shows Vaadin IPC for Liferay in action. Entering a new item in one portlet "
"is updated interactively in the other."
msgstr ""
"展示了 Vaadin IPC for Liferay 的实例. 在一个 portlet 内输入一个新的项目, 会实"
"时地更新到另一个 portlet 中."

#. Tag: title
#: chapter-portal.xml:1344
#, no-c-format
msgid "Vaadin IPC Add-on Demo with Two Portlets"
msgstr "在两个 Portlet 中使用 Vaadin IPC Add-on 示例"

#. Tag: title
#: chapter-portal.xml:1353
#, no-c-format
msgid "Installing the Add-on"
msgstr "安装 Add-on"

#. Tag: para
#: chapter-portal.xml:1355
#, no-c-format
msgid ""
"The Vaadin IPC for Liferay add-on is available from the Vaadin Directory as "
"well as from a Maven repository. To download the installation package or "
"find out the Maven or Ivy dependency, see the <link xlink:href=\"https://"
"vaadin.com/directory#addon/vaadin-ipc-for-liferay\">add-on page at Vaadin "
"Directory</link>, and install the add-on as described in <xref linkend="
"\"addons\"/>."
msgstr ""
"Vaadin IPC for Liferay add-on 可以通过 Vaadin Directory 得到, 也可以从 Maven "
"repository 得到. 如果希望下载安装包, 或者希望查看在 Maven 或 Ivy 中的依赖设"
"定, 请参见<link xlink:href=\"https://vaadin.com/directory#addon/vaadin-ipc-"
"for-liferay\">本 add-on 在 Vaadin Directory 内的页面</link>, 关于 add-on 的安"
"装, 详情请参见 <xref linkend=\"addons\"/>."

#. Tag: para
#: chapter-portal.xml:1365
#, no-c-format
msgid "The contents of the installation package are as follows:"
msgstr "安装包的内容如下:"

#. Tag: filename
#: chapter-portal.xml:1371
#, no-c-format
msgid "vaadin-ipc-for-liferay-x.x.x.jar"
msgstr ""

#. Tag: listitem
#: chapter-portal.xml:1372
#, no-c-format
msgid ""
"The add-on JAR in the installation package must be installed in the "
"<filename>WEB-INF/lib</filename> directory under the root context. The "
"location depends on the server - for example in Liferay running in Tomcat it "
"is located under the <filename>webapps/ROOT</filename> folder of the server."
msgstr ""
"安装包中的 add-on JAR 文件必须安装到根路径的 <filename>WEB-INF/lib</"
"filename> 目录下. 这个目录的位置取决于服务器类型 - 比如对于运行在 Tomcat 中"
"的 Liferay, 它应该在服务器的 <filename>webapps/ROOT</filename> 路径下."

#. Tag: filename
#: chapter-portal.xml:1381
#, no-c-format
msgid "<filename>doc</filename>"
msgstr ""

#. Tag: listitem
#: chapter-portal.xml:1382
#, no-c-format
msgid ""
"The documentation folder includes a <filename>README.TXT</filename> file "
"that describes the contents of the installation package briefly, and "
"<filename>licensing.txt</filename> and <filename>license-asl-2.0.txt</"
"filename>, which describe the licensing under the Apache License 2.0. Under "
"the <filename>doc/api</filename> folder is included the complete JavaDoc API "
"documentation for the add-on."
msgstr ""
"文档目录包含 <filename>README.TXT</filename> 文件, 它简要描述了安装包的内容, "
"还有 <filename>licensing.txt</filename> 和 <filename>license-asl-2.0.txt</"
"filename> 文件, 介绍了这个插件的许可证(使用 Apache License 2.0). 在 "
"<filename>doc/api</filename> 文件夹之下包含了这个 add-on 完整的 JavaDoc API "
"文档."

#. Tag: filename
#: chapter-portal.xml:1394
#, no-c-format
msgid "vaadin-ipc-for-liferay-x.x.x-demo.war"
msgstr ""

#. Tag: listitem
#: chapter-portal.xml:1395
#, no-c-format
msgid ""
"A WAR containing demo portlets. After installing the add-on library and "
"compiling the widget set, as described below, you can deploy the WAR to "
"Liferay and add the two demo portlets to a page, as shown in <xref linkend="
"\"figure.portal.liferay-ipc.demo\"/>. The source of the demo is available at "
"<link xlink:href=\"http://dev.vaadin.com/svn/addons/IPCforLiferay/trunk/demo/"
"src/com/vaadin/addon/ipcforliferay/demo/\">dev.vaadin.com/svn/addons/"
"IPCforLiferay/trunk/</link>."
msgstr ""
"一个包含 portlet 示例的 WAR 包. 安装库文件并编译 widget 群后, 详情见下文, 你"
"可以将这个 WAR 部署到 Liferay 中, 然后添加其中的两个示例 portlet 到一个页面"
"中, 见 <xref linkend=\"figure.portal.liferay-ipc.demo\"/>. 示例的源代码可以"
"从 <link xlink:href=\"http://dev.vaadin.com/svn/addons/IPCforLiferay/trunk/"
"demo/src/com/vaadin/addon/ipcforliferay/demo/\">dev.vaadin.com/svn/addons/"
"IPCforLiferay/trunk/</link> 得到."

#. Tag: para
#: chapter-portal.xml:1406
#, no-c-format
msgid ""
"The add-on contains a widget set, which you must compile into the Vaadin "
"widget set installed in the portal."
msgstr "add-on 中包含一个 widget 群, 你必须编译它, 并安装到 portal 中."

#. Tag: title
#: chapter-portal.xml:1413
#, no-c-format
msgid "Basic Communication"
msgstr "基本的通信功能"

#. Tag: para
#: chapter-portal.xml:1415
#, no-c-format
msgid ""
"<classname>LiferayIPC</classname> is an invisible user interface component "
"that can be used to send messages between two or more Vaadin portlets. You "
"add it to an application layout as you would any regular user interface "
"component."
msgstr ""
"<classname>LiferayIPC</classname> 是一个不可见的 UI 组件, 可以用来在两个或更"
"多的 Vaadin portlet 之间发送消息. 就象通常的 UI 组件一样, 你可以将它添加到一"
"个应用程序布局中."

#. Tag: programlisting
#: chapter-portal.xml:1422
#, no-c-format
msgid ""
"<![CDATA[LiferayIPC liferayipc = new LiferayIPC();\n"
"layout.addComponent(liferayipc);]]>"
msgstr ""

#. Tag: para
#: chapter-portal.xml:1424
#, no-c-format
msgid ""
"You should be careful not to remove the invisible component from the portlet "
"later if you modify the layout of the portlet."
msgstr ""
"如果你将来修改 portlet 的布局, 你应当小心, 不要从 portlet 中删除这个不可见组"
"件."

#. Tag: para
#: chapter-portal.xml:1429
#, no-c-format
msgid ""
"The component can be used both for sending and receiving messages, as "
"described next."
msgstr "这个组件既可以发送消息, 也可以接收消息, 详情见后述."

#. Tag: title
#: chapter-portal.xml:1435
#, no-c-format
msgid "Sending Events"
msgstr "发送事件"

#. Tag: para
#: chapter-portal.xml:1437
#, no-c-format
msgid ""
"You can send an event (a message) with the <methodname>sendEvent()</"
"methodname> method, which takes an event ID and the message data as "
"parameters. The event is broadcast to all listening portlets. The event ID "
"is a string that can be used to identify the recipient of an event or the "
"event type."
msgstr ""
"你可以使用 <methodname>sendEvent()</methodname> 方法来发送事件(消息), 这个方"
"法接受的参数是事件 ID 和消息数据. 事件会被广播发送到监听中的所有 portlet. 事"
"件 ID 是字符串, 可以用来标识对一个事件的应答, 或者标识事件类型."

#. Tag: programlisting
#: chapter-portal.xml:1445
#, no-c-format
msgid "<![CDATA[liferayipc.sendEvent(\"hello\", \"This is Data\");]]>"
msgstr ""

#. Tag: para
#: chapter-portal.xml:1447
#, no-c-format
msgid ""
"If you need to send more complex data, you need to format or serialize it to "
"a string representation as described in <xref linkend=\"portal.liferay-ipc."
"serialization\"/>."
msgstr ""
"如果你需要发送更加复杂的数据, 你需要将你的数据格式化, 或者序列化为字符串形"
"式, 详情请参见 <xref linkend=\"portal.liferay-ipc.serialization\"/>."

#. Tag: title
#: chapter-portal.xml:1455
#, no-c-format
msgid "Receiving Events"
msgstr "接收事件"

#. Tag: para
#: chapter-portal.xml:1457
#, no-c-format
msgid ""
"A portlet wishing to receive events (messages) from other portlets needs to "
"register a listener in the component with <methodname>addListener()</"
"methodname>. The listener receives the messages in a "
"<classname>LiferayIPCEvent</classname> object. Filtering events by the ID is "
"built in into the listener handler, you give the listened event ID as the "
"first parameter for the <methodname>addListener()</methodname>. The actual "
"message data is held in the <parameter>data</parameter> property, which you "
"can read with <methodname>getData()</methodname>."
msgstr ""
"如果一个 portlet 希望从其他 portlet 接收事件(消息), 它需要使用 "
"<methodname>addListener()</methodname> 方法在组件中注册一个监听器. 监听器收到"
"的消息表达为 <classname>LiferayIPCEvent</classname> 对象. 消息监听处理器内建"
"了使用 ID 来过滤事件的功能, 你可以将监听的事件 ID 作为 "
"<methodname>addListener()</methodname> 方法的第一个参数. 实际的消息数据保存"
"在 <parameter>data</parameter> 属性中, 你可以通过 <methodname>getData()</"
"methodname> 方法得到它."

#. Tag: programlisting
#: chapter-portal.xml:1469
#, no-c-format
msgid ""
"<?pocket-size 65% ?><![CDATA[liferayipc.addListener(\"hello\", new "
"LiferayIPCEventListener() {\n"
"    public void eventReceived(LiferayIPCEvent event) {\n"
"        // Do something with the message data\n"
"        String data = event.getData();\n"
"        Notification.show(\"Received hello: \" + data);\n"
"    }\n"
"});]]>"
msgstr ""

#. Tag: para
#: chapter-portal.xml:1471
#, no-c-format
msgid ""
"A listener added to a <classname>LiferayIPC</classname> can be removed with "
"<methodname>removeListener()</methodname>."
msgstr ""
"监听器添加到 <classname>LiferayIPC</classname> 之后, 可以使用 "
"<methodname>removeListener()</methodname> 方法来删除."

#. Tag: title
#: chapter-portal.xml:1479
#, no-c-format
msgid "Considerations"
msgstr "注意事项"

#. Tag: para
#: chapter-portal.xml:1481
#, no-c-format
msgid ""
"Both security and efficiency should be considered with inter-portlet "
"communications when using the Vaadin IPC for Liferay."
msgstr ""
"当使用 Vaadin IPC for Liferay 进行 portlet 间通信时, 既要考虑安全性问题, 也要"
"考虑效率问题."

#. Tag: title
#: chapter-portal.xml:1487
#, no-c-format
msgid "Browser Security"
msgstr "浏览器安全问题"

#. Tag: para
#: chapter-portal.xml:1489
#, no-c-format
msgid ""
"As the message data is passed through the client-side (browser), any code "
"running in the browser has access to the data. You should be careful not to "
"expose any security-critical data in client-side messaging. Also, malicious "
"code running in the browser could alter or fake messages. Sanitization can "
"help with the latter problem and encryption to solve the both issues. You "
"can also share the sensitive data through session attributes or a database "
"and use the client-side IPC only to notify that the data is available."
msgstr ""
"由于消息数据是通过客户端(浏览器)来传递的, 因此浏览器中运行的任何代码都可以访"
"问这些数据. 你应当注意, 在客户端消息传递机制中, 不要暴露机密数据. 而且, 浏览"
"器端运行的恶意代码还可以篡改或伪造消息. 对消息进行安全过滤可以解决消息伪造的"
"问题, 数据加密则可以同时解决消息篡改和伪造的问题. 你也可以通过 session 属性或"
"数据库来共享敏感数据, 而客户端 IPC 机制只用来发送通知, 告知相关使用者这些数据"
"已经可用了."

#. Tag: title
#: chapter-portal.xml:1502
#, no-c-format
msgid "Efficiency"
msgstr "效率"

#. Tag: para
#: chapter-portal.xml:1504
#, no-c-format
msgid ""
"Sending data through the browser requires loading and sending it in HTTP "
"requests. The data is held in the memory space of the browser, and handling "
"large data in the client-side JavaScript code can take time. Noticeably "
"large message data can therefore reduce the responsiveness of the "
"application and could, in extreme cases, go over browser limits for memory "
"consumption or JavaScript execution time."
msgstr ""
"使用浏览器来发送数据需要使用 HTTP 请求来装载和发送这些数据. 数据保存在浏览器"
"的内存空间中, 而使用客户端 JavaScript 代码来处理大的数据会耗费一些时间. 注"
"意, 大的消息数据可能会降低应用程序的应答速度, 而且极端情况下还有可能超过浏览"
"器的内存极限, 或者超过 JavaScript 的执行时间极限."

#. Tag: title
#: chapter-portal.xml:1516
#, no-c-format
msgid "Communication Through Session Attributes"
msgstr "使用 Session 属性进行通信"

#. Tag: para
#: chapter-portal.xml:1518
#, no-c-format
msgid ""
"In many cases, such as when considering security or efficiency, it is better "
"to pass the bulk data on the server-side and use the client-side IPC only "
"for notifying the other portlet(s) that the data is available. Session "
"attributes are a conveninent way of sharing data on the server-side. You can "
"also share objects through them, not just strings."
msgstr ""
"在很多情况下, 比如考虑安全性和效率的情况下, 比较好的解决方案是在服务器端传递"
"大块数据, 而客户端的 IPC 机制只用来通知其他 portlet 读取新数据. Session 属性"
"是一个在服务器端共享数据的便利方法. 你还可以共享任意的对象, 而不仅仅是字符串."

#. Tag: para
#: chapter-portal.xml:1526
#, no-c-format
msgid ""
"The session variables have a <emphasis>scope</emphasis>, which should be "
"<parameter>APPLICATION_SCOPE</parameter>. The \"application\" refers to the "
"scope of the Java web application (WAR) that contains the portlets."
msgstr ""
"session 中的变量需要指定 <emphasis>范围</emphasis>, 范围应该指定为 "
"<parameter>APPLICATION_SCOPE</parameter>. 其中的 \"application\" 代表变量在 "
"portlet 所属的整个 Java Web 应用程序(WAR) 范围内有效."

#. Tag: para
#: chapter-portal.xml:1532
#, no-c-format
msgid ""
"If the communicating portlets are in the same Java web application (WAR), no "
"special configuration is needed. You can also communicate between portlets "
"in different WARs, in which case you need to disable the <parameter>private-"
"session-attributes</parameter> parameter in <filename>liferay-portlet.xml</"
"filename> by setting it to <literal>false</literal>. Please see Liferay "
"documentation for more information regarding the configuration."
msgstr ""
"如果参与通信的 portlet 属于相同的 Java Web 应用程序(WAR), 那么不必进行特别的"
"配置. 你也可以在属于不同的 WAR 的 portlet 之间通信, 这种情况下你需要将 "
"<filename>liferay-portlet.xml</filename> 中的 <parameter>private-session-"
"attributes</parameter> 参数设置为 <literal>false</literal>, 禁用它. 关于 "
"Liferay 配置的更多详细信息, 请参见 Liferay 文档."

#. Tag: para
#: chapter-portal.xml:1542
#, no-c-format
msgid ""
"You can also share Java objects between the portlets in the same WAR, not "
"just strings. If the portlets are in different WARs, they normally have "
"different class loaders, which could cause incompatibilities, so you can "
"only communicate with strings and any object data needs to be serialized."
msgstr ""
"在同一个 WAR 内的多个 portlet 之间共享, 你可以共享 Java 对象, 而不仅仅是字符"
"串. 如果 portlet 属于不同的 WAR, 它们通常会有不同的类装载器, 因此会导致不兼"
"容, 因此你只能使用字符串进行通信, 其他数据对象都需要序列化."

#. Tag: para
#: chapter-portal.xml:1549
#, no-c-format
msgid ""
"Session attributes are accessible through the <classname>PortletSession</"
"classname> object, which you can access through the portlet context from the "
"Vaadin <classname>Application</classname> class."
msgstr ""
"Session 属性可以通过 <classname>PortletSession</classname> 对象来访问, 可以通"
"过 Vaadin <classname>Application</classname> 类得到 portlet context, 再得到 "
"PortletSession 对象."

#. Tag: programlisting
#: chapter-portal.xml:1556
#, no-c-format
msgid ""
"<?pocket-size 65% ?><![CDATA[Person person = new Person(firstname, lastname, "
"age);\n"
"...\n"
"\n"
"PortletSession session =\n"
"        ((PortletApplicationContext2)getContext()).\n"
"            getPortletSession();\n"
"\n"
"// Share the object\n"
"String key = \"IPCDEMO_person\";\n"
"session.setAttribute(key, person,\n"
"                     PortletSession.APPLICATION_SCOPE);\n"
"\n"
"// Notify that it's available\n"
"liferayipc.sendEvent(\"ipc_demodata_available\", key);]]>"
msgstr ""

#. Tag: para
#: chapter-portal.xml:1558
#, no-c-format
msgid ""
"You can then receive the attribute in a <classname>LiferayIPCEventListener</"
"classname> as follows:"
msgstr ""
"你可以在 <classname>LiferayIPCEventListener</classname> 中得到上例中的属性数"
"据, 如下:"

#. Tag: programlisting
#: chapter-portal.xml:1563
#, no-c-format
msgid ""
"<?pocket-size 65% ?><![CDATA[public void eventReceived(LiferayIPCEvent "
"event) {\n"
"    String key = event.getData();\n"
"\n"
"    PortletSession session =\n"
"            ((PortletApplicationContext2)getContext()).\n"
"                getPortletSession();\n"
"\n"
"    // Get the object reference\n"
"    Person person = (Person) session.getAttribute(key);\n"
"\n"
"    // We can now use the object in our application\n"
"    BeanItem<Person> item = new BeanItem<Person> (person);\n"
"    form.setItemDataSource(item);\n"
"}]]>"
msgstr ""

#. Tag: para
#: chapter-portal.xml:1565
#, no-c-format
msgid ""
"Notice that changes to a shared object bound to a user interface component "
"are not updated automatically if it is changed in another portlet. The issue "
"is the same as with double-binding in general."
msgstr ""
"注意, 当一个共享对象绑定到 UI 组件时, 如果另一个 portlet 改变了这个对象, 它并"
"不会自动更新到 UI 组件中. 这个问题与通常的双重绑定问题是一样的."

#. Tag: title
#: chapter-portal.xml:1573
#, no-c-format
msgid "Serializing and Encoding Data"
msgstr "数据的序列化和编码"

#. Tag: para
#: chapter-portal.xml:1575
#, no-c-format
msgid ""
"The IPC events support transmitting only plain strings, so if you have "
"object or other non-string data, you need to format or serialize it to a "
"string representation. For example, the demo application formats the trivial "
"data model as a semicolon-separated list as follows:"
msgstr ""
"IPC 事件只支持发送纯文本字符串, 因此如果你的数据是对象, 或者其他非字符串的数"
"据, 你就需要将数据格式化或者序列化为字符串形式. 比如, 示例应用程序将它的数据"
"模型格式化为分号分隔的字符串序列, 如下:"

#. Tag: programlisting
#: chapter-portal.xml:1582
#, no-c-format
msgid ""
"<?pocket-size 65% ?><![CDATA[private void sendPersonViaClient(String "
"firstName,\n"
"                                 String lastName, int age) {\n"
"    liferayIPC_1.sendEvent(\"newPerson\", firstName + \";\" +\n"
"                           lastName + \";\" + age);\n"
"}]]>"
msgstr ""

#. Tag: para
#: chapter-portal.xml:1584
#, no-c-format
msgid ""
"You can use standard Java serialization for any classes that implement the "
"<interfacename>Serializable</interfacename> interface. The transmitted data "
"may not include any control characters, so you also need to encode the "
"string, for example by using Base64 encoding."
msgstr ""
"对于实现了 <interfacename>Serializable</interfacename> 接口的任何类, 你都可以"
"使用标准的 Java 序列化机制. 但传输的数据中不能包含任何控制字符, 因此你还要对"
"字符串进行编码, 比如, 可以使用 Base64 编码."

#. Tag: programlisting
#: chapter-portal.xml:1591
#, no-c-format
msgid ""
"<?pocket-size 65% ?><![CDATA[// Some serializable object\n"
"MyBean mybean = new MyBean();\n"
"...\n"
"\n"
"// Serialize\n"
"ByteArrayOutputStream baostr = new ByteArrayOutputStream();\n"
"ObjectOutputStream oostr;\n"
"try {\n"
"    oostr = new ObjectOutputStream(baostr);\n"
"    oostr.writeObject(mybean); // Serialize the object\n"
"    oostr.close();\n"
"} catch (IOException e) {\n"
"    Notification.show(\"IO PAN!\"); // Complain\n"
"}\n"
"\n"
"// Encode\n"
"BASE64Encoder encoder = new BASE64Encoder();\n"
"String encoded = encoder.encode(baostr.toByteArray());\n"
"\n"
"// Send the IPC event to other portlet(s)\n"
"liferayipc.sendEvent(\"mybeanforyou\", encoded);]]>"
msgstr ""

#. Tag: para
#: chapter-portal.xml:1593
#, no-c-format
msgid ""
"You can then deserialize such a message at the receiving end as follows:"
msgstr "对于这样的消息, 你可以在收信端将它反序列化, 如下:"

#. Tag: programlisting
#: chapter-portal.xml:1597
#, no-c-format
msgid ""
"<?pocket-size 65% ?><![CDATA[public void eventReceived(LiferayIPCEvent "
"event) {\n"
"    String encoded = event.getData();\n"
"\n"
"    // Decode and deserialize it    \n"
"    BASE64Decoder decoder = new BASE64Decoder();\n"
"    try {\n"
"        byte[] data = decoder.decodeBuffer(encoded);\n"
"        ObjectInputStream ois =\n"
"                new ObjectInputStream( \n"
"                        new ByteArrayInputStream(data));\n"
"\n"
"        // The deserialized bean\n"
"        MyBean deserialized = (MyBean) ois.readObject();\n"
"        ois.close();\n"
"\n"
"        ... do something with the bean ...\n"
"\n"
"    } catch (IOException e) {\n"
"        e.printStackTrace(); // Handle somehow\n"
"    } catch (ClassNotFoundException e) {\n"
"        e.printStackTrace(); // Handle somehow\n"
"    }\n"
"}]]>"
msgstr ""

#. Tag: title
#: chapter-portal.xml:1601
#, no-c-format
msgid "Communicating with Non-Vaadin Portlets"
msgstr "与非 Vaadin Portlet 通信"

#. Tag: para
#: chapter-portal.xml:1603
#, no-c-format
msgid ""
"You can use the Vaadin IPC for Liferay to communicate also between a Vaadin "
"application and other portlets, such as JSP portlets. The add-on passes the "
"events as regular Liferay JavaScript events. The demo WAR includes two JSP "
"portlets that demonstrate the communication."
msgstr ""
"你可以使用 Vaadin IPC for Liferay 来实现 Vaadin 应用程序与其他 portlet, 比如 "
"JSP portlet, 之间的通信. 这个 add-on 使用通常的 Liferay JavaScript 事件来传送"
"事件. 示例 WAR 中包含了两个 JSP portlet, 演示了这样的通信功能."

#. Tag: para
#: chapter-portal.xml:1611
#, no-c-format
msgid ""
"When sending events from non-Vaadin portlet, fire the event using the "
"JavaScript <methodname>Liferay.fire()</methodname> method with an event ID "
"and message. For example, in JSP you could have:"
msgstr ""
"从非 Vaadin portlet 发送事件时, 可以使用 JavaScript <methodname>Liferay."
"fire()</methodname> 方法来触发事件, 参数是事件 ID 和消息内容. 比如, 在 JSP 中"
"你可以包含以下代码:"

#. Tag: programlisting
#: chapter-portal.xml:1617
#, no-c-format
msgid ""
"<![CDATA[<%@ taglib uri=\"http://java.sun.com/portlet_2_0\"\n"
"           prefix=\"portlet\" %>\n"
"<portlet:defineObjects />\n"
"\n"
"<script>\n"
"function send_message() {\n"
"    Liferay.fire('hello', \"Hello, I'm here!\");\n"
"}\n"
"</script>\n"
"\n"
"<input type=\"button\" value=\"Send message\"\n"
"       onclick=\"send_message()\" />]]>"
msgstr ""

#. Tag: para
#: chapter-portal.xml:1620
#, no-c-format
msgid ""
"You can receive events using a Liferay JavaScript event handler. You define "
"the handler with the <methodname>on()</methodname> method in the Liferay "
"object. It takes the event ID and a callback function as its parameters. "
"Again in JSP you could have:"
msgstr ""
"你可以使用 Liferay JavaScript 事件处理器来接受事件. 可以使用 Liferay 对象的 "
"<methodname>on()</methodname> 方法来定义处理器. 这个方法接受的参数是事件 ID "
"和回调函数. 同样的, 在 JSP 中你可以包含以下代码:"

#. Tag: programlisting
#: chapter-portal.xml:1627
#, no-c-format
msgid ""
"<![CDATA[<%@ taglib uri=\"http://java.sun.com/portlet_2_0\"\n"
"           prefix=\"portlet\" %>\n"
"<portlet:defineObjects />\n"
"\n"
"<script>\n"
"Liferay.on('hello', function(event, data) {\n"
"    alert(\"Hello: \" + data);\n"
"});\n"
"</script>]]>"
msgstr ""
